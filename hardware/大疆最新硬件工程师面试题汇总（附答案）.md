# 

Original 往事敬秋风 深度Linux

 _2024年09月05日 20:52_ _湖南_

前言：一直以来，大疆在科技领域的卓越成就如同一座闪耀的灯塔，指引着我在硬件工程的道路上不断前行。从第一次接触到大疆那令人惊叹的无人机产品开始，我便被其精湛的硬件设计、先进的技术和创新的理念深深吸引。在我的认知里，大疆不仅仅是一家企业，更是硬件工程领域的开拓者和引领者。

![](http://mmbiz.qpic.cn/mmbiz_png/dkX7hzLPUR0Ao40RncDiakbKx1Dy4uJicoqwn5GZ5r7zSMmpwHdJt32o95wdQmPZrBW038j8oRSSQllpnOUDlmUg/300?wx_fmt=png&wxfrom=19)

**深度Linux**

拥有15年项目开发经验及丰富教学经验，曾就职国内知名企业项目经理，部门负责人等职务。研究领域：Windows&Linux平台C/C++后端开发、Linux系统内核等技术。

191篇原创内容

公众号

我对硬件工程的热爱可以追溯到很久以前。在大学期间，我如饥似渴地学习各种硬件相关的专业课程，从数字电路到模拟电路，从嵌入式系统到信号处理，每一门课程都像是一把钥匙，为我打开了硬件世界的神秘大门。我积极参加各类电子设计竞赛和项目实践，在实践中不断磨砺自己的技能，积累宝贵的经验。通过这些经历，我学会了如何分析问题、解决问题，如何在复杂的硬件系统中找到最优的解决方案。

毕业后，我有幸参与了一些具有挑战性的硬件项目。在这些项目中，我充分发挥自己的专业知识和技能，从硬件设计到调试，从性能优化到可靠性测试，我都全力以赴，力求做到最好。我深刻体会到了硬件工程的魅力所在，也更加坚定了我在这个领域继续发展的决心。而大疆，无疑是我梦寐以求的舞台。我渴望加入这个充满活力和创新的团队，与一群优秀的硬件工程师们共同攻克技术难题，为创造出更加先进、更加智能的硬件产品贡献自己的力量。我相信，我的专业技能、实践经验和对硬件工程的热情，能够使我在大疆这个平台上发挥出自己的最大价值。

在接下来的面试中，我期待能够向您全面展示我的能力和潜力，也希望能够有机会成为大疆大家庭的一员，共同书写硬件工程领域的新篇章。

希望以上面试题对你有所帮助！你可以根据实际情况进行调整和修改。

## 一、请介绍一下开关电源的基本框图和 LDO 的基本框图，并描述它们的区别。

开关电源的基本框图通常包括主电路、控制电路、检测电路和辅助电源。主电路包含冲击电流限幅、输入滤波器、整流与滤波、逆变以及输出整流与滤波等部分。控制电路一方面从输出端取样与设定值比较以控制逆变器，另一方面根据测试电路数据进行保护。检测电路提供保护电路中的各种参数和仪表数据。辅助电源实现电源的软件启动，并为保护和控制电路供电。  
  
LDO（低压差线性稳压器）的基本框图通常由分压取样电路、基准电压、误差放大电路和晶体管调整电路构成。分压取样电路通过电阻对输出电压进行采集，误差放大电路将采集的电压与基准电压比较并放大，晶体管调整电路根据放大后的信号控制晶体管导通电压，从而控制输出电压。  
  
开关电源和 LDO 的基本框图主要有以下区别：开关电源通过逆变将直流电转换为高频交流电，再经整流滤波得到稳定的直流输出，其过程涉及高频变换，因此需要较多的外部元件如电感、电容等。而 LDO 是通过调整晶体管的导通电压来实现稳压，工作在线性区域，外部元件相对较少，通常只需要一两个旁路电容。此外，开关电源由于内部的高频开关动作，会产生较大的纹波，而 LDO 的输出纹波相对较小。在效率方面，开关电源效率通常较高，能轻松达到 90% 以上，而 LDO 效率相对较低。在输入输出电压差方面，开关电源能适应较大的输入输出电压差，而 LDO 要求输入输出电压差不能太大。  
  
**开关电源基本框图的组成部分**  
  
开关电源大致由输入电路、变换器、控制电路、输出电路四个主体组成。细致划分，包括输入滤波、输入整流、开关电路、采样、基准电源、比较放大、震荡器、V/F 转换、基极驱动、输出整流、输出滤波电路等。实际的开关电源还可能包括保护电路、功率因素校正电路、同步整流驱动电路及其它一些辅助电路等。  
以反激式开关电源为例，其基本组成部分还包括变压器，变压器在能量传递和电气隔离方面发挥着关键作用。输入电路负责对交流电源进行滤波和整流，将其转换为适合后续处理的直流电。变换器中的开关电路通过高频通断来实现电压变换，控制电路则根据采样和基准电源的比较结果，对开关电路进行精确控制，以保证输出稳定。输出电路对变换后的电压进行整流和滤波，为负载提供高质量的直流电源。  
  
**LDO 基本框图的组成部分**  
  
LDO 基本框图主要由分压取样电路、基准电压、误差放大电路和晶体管调整电路构成。分压取样电路通过电阻对输出电压进行采集，误差放大电路将采集的电压输入到比较器反向输入端，与正向输入端的基准电压进行比较，然后将比较结果进行放大。晶体管调整电路把放大后的信号输出到晶体管的控制极（也就是 PMOS 管的栅极或者 PNP 型三极管的基极），从而形成一个负反馈调节回路。通过控制晶体管的导通电压，实现稳定的输出电压。  
  
**开关电源基本框图的工作原理**  
  
开关电源的工作原理是通过开关管的高频通断，将输入的直流电转换为高频脉冲信号，然后经过变压器或电感等元件进行能量传递和电压变换，最后再经过整流滤波得到所需的直流输出电压。  
以降压型开关电源为例，当开关管导通时，输入电源通过电感向负载供电并储存能量；当开关管截止时，电感中的电流通过续流二极管继续向负载供电，同时电感释放储存的能量。控制电路通过采样输出电压，并与基准电压比较，调整开关管的导通时间（占空比），从而实现稳定的输出电压。  
  
**LDO 基本框图的工作原理**  
  
LDO 主要工作流程是将输出电压通过分压电阻分压，得到的电压与基准电压做比较，通过运放输出信号来调节晶体管的导通程度，从而控制输出电压。  
当输出电压由于负载变化或其他原因下降时，分压电阻两端的电压也会下降，误差放大器会增大其输出，使得晶体管的导通程度增加，输出电流增大，从而使输出电压上升，完成一次反馈控制，使得输出电压恢复到正常电位。  
  
**开关电源和 LDO 基本框图在外部元件上的区别**  
  
开关电源的外部元件通常较多，包括电感、电容、稳压管、反馈电阻等，在 PCB 布局时占用面积较大。而 LDO 外部元件相对较少，通常只需要一两个旁路电容，布局布线更为简单。  
例如，在一个典型的降压型开关电源中，需要一个电感来存储和释放能量，以及多个电容来滤波和稳定电压。而在一个 LDO 电路中，可能只需要在输入端和输出端各接一个滤波电容就能满足基本需求。  
  
**开关电源和 LDO 基本框图在纹波上的区别**  
  
开关电源由于其内部开关管的高频通断，会产生较大的纹波，几十甚至上百毫伏。而 LDO 因为不需要高频通断，输出纹波较小，通常在几毫伏甚至更低。  
比如，在一些对电源质量要求较高的电路，如高速 ADC、DAC 或者精密运放中，为了减少电源对电路的干扰，通常会选择纹波小的 LDO 作为电源。而在一些对纹波要求不是特别严格的场合，如一些普通的数字电路中，开关电源则能满足需求。  
  
**开关电源和 LDO 基本框图在效率上的区别**  
  
开关电源的效率通常较高，能轻松达到 90% 以上，而 LDO 的效率则相对较低。LDO 的效率大致等于输出电压除以输入电压。在大功率输出的情况下，LDO 可能会因效率低下而产生大量功耗，导致发热问题严重。例如，在一个需要 5V 输出、2A 电流的系统中，如果使用开关电源，输入功率可能只需 10W 多；而使用 LDO，输入功率可能接近 20W，效率差距明显。  
  
**开关电源和 LDO 基本框图在输入输出电压差上的区别**  
  
开关电源能够实现较大的输入输出电压差，适用于高压转低压或低压转高压的场景。而 LDO 一般要求输入电压高于输出电压，且输入输出之间的压差不能太大。  
例如，在一个输入为 24V，输出为 5V 的电源设计中，开关电源能够轻松实现这种大幅度的降压；而对于 LDO，若要实现相同的降压，可能会因压差过大而导致效率极低、发热严重等问题。  
  
综上所述，开关电源和 LDO 在基本框图的组成、工作原理、外部元件、纹波、效率以及输入输出电压差等方面存在明显区别。在实际应用中，应根据具体的电路需求和性能要求来选择合适的电源方案。例如，对于大功率、对效率要求高的场合，通常优先选择开关电源；而对于小功率、对纹波要求严格的场合，LDO 则可能是更合适的选择。

## 二、谈谈你对信号完整性和电源完整性的理解，以及在设计中如何保证 。

(1)对信号完整性和电源完整性的理解

信号完整定义：信号完整性是指在信号传输过程中，信号的质量和性能保持在一个可接受的范围内。这包括信号的幅度、频率、相位等特性在传输过程中不发生严重的失真、衰减或干扰。

重要性：良好的信号完整性对于确保电子系统的正确运行至关重要。如果信号完整性受到破坏，可能会导致数据错误、误码率增加、系统性能下降甚至系统故障。例如，在高速数字电路中，信号的上升时间和下降时间很短，微小的信号失真都可能导致数据传输错误。

影响因素：信号完整性受到多种因素的影响，包括传输线效应（如阻抗不匹配、反射、串扰等）、电源噪声、电磁干扰等。例如，当传输线的阻抗不匹配时，会导致信号反射，使信号波形发生畸变。

电源完整性定义：电源完整性是指电源系统在为电子设备提供稳定、干净的电源时，其性能和质量保持在一个可接受的范围内。这包括电源的电压稳定性、电流供应能力、噪声水平等方面。

重要性：电源完整性对于电子系统的可靠运行同样至关重要。不稳定的电源会导致电子设备工作不正常，甚至损坏。例如，在数字电路中，电源电压的波动可能会导致逻辑错误；在模拟电路中，电源噪声会影响信号的精度和质量。

影响因素：电源完整性受到电源分配网络（PDN）的设计、电源噪声、负载变化等因素的影响。例如，电源分配网络中的电感和电容会影响电源的瞬态响应，负载的突然变化可能会导致电源电压的下降。

(2)在设计中保证信号完整性和电源完整性的方法

信号完整性的保证方法

传输线设计：

- 控制传输线阻抗：确保传输线的阻抗在整个信号路径上保持连续和匹配，以减少信号反射。可以通过合理选择传输线的几何形状、宽度和厚度，以及使用终端匹配电阻等方法来实现。
    
- 减小传输线长度：传输线越长，信号的衰减和失真就越严重。在设计中应尽量减小信号传输线的长度，特别是在高速数字电路中。
    
- 采用差分信号传输：差分信号可以有效地减少共模噪声和电磁干扰，提高信号的抗干扰能力。在高速数字电路中，广泛采用差分信号传输，如 LVDS、PCI Express 等。
    

信号端接：

- 终端匹配：在传输线的末端添加合适的终端匹配电阻，以消除信号反射。常见的终端匹配方式有串联匹配、并联匹配和戴维南匹配等。
    
- 源端匹配：在信号源端添加匹配电阻，也可以减少信号反射。源端匹配通常用于驱动能力较强的信号源。
    

电磁屏蔽：

- 使用屏蔽电缆和屏蔽外壳：对于容易受到电磁干扰的信号，如高速数字信号、射频信号等，可以使用屏蔽电缆和屏蔽外壳来减少外部电磁干扰的影响。
    
- 合理布局和布线：在 PCB 设计中，应合理布局和布线，避免信号之间的相互干扰。例如，将高速数字信号和模拟信号分开布局，避免信号之间的串扰。
    

信号时序控制：

- 时钟同步：在多时钟系统中，应确保各个时钟之间的同步，以避免数据传输错误。可以使用时钟缓冲器、锁相环等器件来实现时钟同步。
    
- 建立时间和保持时间：在数字电路中，应满足芯片的建立时间和保持时间要求，以确保数据的正确采样。可以通过调整信号的延迟时间、时钟频率等方法来满足建立时间和保持时间要求。
    

(3)电源完整性的保证方法

电源分配网络设计：

- 合理规划电源层和地层：在 PCB 设计中，应合理规划电源层和地层的布局，确保电源和地之间的低阻抗路径。可以采用多层 PCB 设计，将电源层和地层相邻布置，以减小电源和地之间的电感。
    
- 添加去耦电容：在电源和地之间添加去耦电容，可以有效地减少电源噪声和纹波。去耦电容应尽可能靠近芯片的电源引脚放置，以减小电源和地之间的电感。
    
- 优化电源平面的阻抗：通过合理选择电源平面的形状、尺寸和材料，以及添加电源平面的过孔等方法，可以优化电源平面的阻抗，提高电源的瞬态响应能力。
    

电源管理：

- 电源稳压：使用稳压电源或电源管理芯片，确保电源输出的稳定性。稳压电源可以提供稳定的电压输出，减少电源电压的波动。
    
- 电源监控：对电源进行实时监控，及时发现电源故障并采取相应的保护措施。可以使用电源监控芯片或软件来实现电源监控。
    
- 电源滤波：在电源输入端添加滤波器，如 EMI 滤波器、LC 滤波器等，可以减少电源噪声和纹波的影响。
    

负载平衡：

- 合理分配负载：在设计中，应合理分配负载，避免某个电源分支上的负载过重。可以通过调整电路布局、使用负载均衡器等方法来实现负载平衡。
    
- 动态负载调整：对于一些负载变化较大的系统，可以采用动态负载调整技术，如动态电压调整（DVS）、动态频率调整（DFS）等，根据负载的变化实时调整电源输出，以提高电源效率和系统性能。
    

## 三、解释一下集成运放的参数包括哪几部分，压摆率是什么意思。

(1)极限参数

- 最高电源电压：加到集成运放上的最大允许安全电源电压。不同型号的集成运放可工作的电压范围不同，有的可低到 ±1V，有的可以高到 ±40V，常见的 ±15V 电源电压是推荐使用电压。
    
- 功耗：器件在规定温度范围内工作时可安全耗散的功率。同一型号集成运放的封装形式不同，功耗也不同，一般陶瓷封装允许的功耗最大，金属封装居中，塑料封装最小。
    
- 工作温度：能保证器件在额定参数下工作的温度范围，工作温度分为军品级（-55℃～+125℃）、工业品级（-25℃～+85℃）、民品级（0℃～+70℃）。
    
- 差动输入电压：能安全加在两输入端之间的最大电压，因集成运放输入级电路不同，差模输入电压也不同，使用时需查看产品手册。
    
- 共模输入电压：将两个输入端短接（短路），能安全加在短路线与放大器地线间的最大电压，共模输入电压的极限值有正、有负，通常其绝对值是相等的。
    
- 输出短路时间：集成运放能承受的由输入端到地或任一电源端的直接短路的时间。
    
- 引线温度：在规定时间内，器件能承受的焊接温度，如 10s，300℃。
    
- 储存温度：器件处于不工作状态时存放的环境温度，一般为 - 65℃～+150℃。
    

(2)直流参数

- 输入失调电压：当集成运放的直流输出为零时，在两输入端之间所加的补偿电压。通用型集成运放的输入失调电压为 ±（1～10）mV，高精度集成运放的输入失调电压一般小于 ±0.5mV，有的不到 1μV。
    
- 输入失调电压温度系数：在一定温度范围内，输入失调电压的变化量与温度变化的比值。通用型集成运放的输入失调电压温度系数为 ±（10～20）μV/℃，高精度集成运放的输入失调电压温度系数为 ±1μV/℃。
    
- 输入偏置电流：当集成运放的直流输出为零时，其两输入端偏置电流的平均值。采用双极型三极管作为输入的集成运放的输入偏置电流为 10nA～10μA，采用场效应管为输入的集成运放的输入偏置电流一般小于 1nA。
    
- 输入失调电流：当集成运放的直流输出为零时，其两输入端偏置电流的差。通用型集成运放的输入失调电流一般为输入偏置电流的 10％，高精度集成运放的输入失调电流很小。场效应管作为输入级的集成运放因输入偏置电流很小，所以输入失调电流更小。
    
- 输入失调电流温度系数：在一定温度范围内，输入失调电流的变化量与温度变化的比值。双极型三极管作为输入级的集成运放因对称性好，所以输入失调电流温度系数更小。
    
- 开环差模直流电压增益：集成运放工作在线性区时，两输入端输入差模电压，输出电压的变化量与输入电压变化量之比，简称差模电压增益或开环增益，一般大于 80dB。
    
- 共模电压增益：集成运放对共模信号的电压放大倍数。理想集成运放的输入级是匹配的，共模电压增益为零，实际集成运放不完全匹配，共模电压增益不为零。
    
- 共模抑制比：集成运放工作在线性区时，其差模电压增益与共模电压增益之比。通常用共模抑制比 = 20lg（差模电压增益 / 共模电压增益）dB 表示，一般都大于 80dB。
    
- 输出峰峰值电压：输出峰峰值电压也称为饱和电压。集成运放在一定电源和负载电阻下，输出的最大电压幅度。当电源电压为 ±15V 时，输出峰峰值电压都不小于 ±10V。
    
- 电源电压抑制比：集成运放的输入失调电压随电源电压的变化率。通常用电源电压抑制比 = 20lg（电源电压的变化量 / 输入失调电压的变化量）dB 表示，电源电压抑制比值大约为几十分贝到几百分贝。
    
- 差模输入电阻：集成运放开环时，输入电压的变化与引起的输入电流变化之比。
    
- 共模输入电阻：集成运放对共模信号呈现的电阻，通常共模输入电阻比差模输入电阻高两个数量级。
    
- 输出电阻：在开环时，集成运放等效为电压源的等效动态电阻。输出电阻在数十欧姆到数百欧姆之间。
    

(3)动态参数

- 开环带宽：集成运放的开环电压增益下降 3dB（或直流增益的 0.707 倍）时所对应的信号频率。
    
- 单位增益带宽：集成运放在闭环增益为 1 倍状态下，当用正弦小信号驱动时，其闭环增益下降至 0.707 倍时的频率。
    
- 转换速率（或电压摆率）：在额定的负载条件下，当输入阶跃大信号时，集成运放输出电压的最大变化率，单位通常有 V/s、V/ms 和 V/μs 三种，它反映的是集成运放对信号变化速度的适应能力，是衡量集成运放在大幅度信号作用时工作速度的参数。当输入信号变化斜率的绝对值小于压摆率时，输出电压才按线性规律变化。信号幅值越大、频率越高，要求集成运放的压摆率也越大 2。
    
- 全功率带宽：在额定负载条件下，集成运放闭环增益为 1 倍时，当输入正弦大信号后，使集成运放输出电压幅度达到最大（在一定的失真条件下）的信号频率，即为功率带宽。
    
- 建立时间：集成运放闭环增益为 1 倍时，在一定的负载条件下当输入阶跃大信号后，集成运放输出电压达到某一特定值的范围时所需要的时间。
    
- 等效输入噪声电压：屏蔽良好的、无信号输入的集成运放，在其输出端产生的任何交流无规则的干扰电压。
    

## 四、说明 STM32 最小系统的组成部分及各部分的作用。

STM32最小系统的组成部分包括：

- STM32微控制器芯片：是整个系统的核心，负责执行程序、处理输入输出和控制外设。
    
- 外部晶体振荡器（Crystal Oscillator）：用于为微控制器提供时钟信号，保证系统稳定运行。
    
- 复位电路（Reset Circuit）：负责将微控制器从复位状态恢复到正常工作状态。
    
- 芯片电源电路（Power Supply Circuit）：提供稳定的电源给微控制器和其他外部模块。
    
- 调试接口（Debug Interface）：用于连接调试工具（如ST-Link）与微控制器进行程序下载、调试和监测。
    
- IO引脚（I/O Pins）：提供与外部设备或传感器进行通信的接口，用于输入输出数据或控制信号。
    

这些组成部分各自承担以下作用：

- 微控制器芯片是整个系统的核心，执行用户程序，处理输入输出和控制外设。
    
- 晶体振荡器提供稳定的时钟信号给微控制器，确保其正常运行。
    
- 复位电路在上电或复位时将微控制器恢复到初始状态。
    
- 电源电路为系统提供稳定可靠的电源，并保护芯片免受电源波动或干扰。
    
- 调试接口通过与调试工具的连接，实现程序下载、调试和监测功能。
    
- IO引脚用于与外部设备进行通信，包括输入输出数据、控制信号等。
    

这些组成部分共同构成了STM32最小系统，为开发者提供了一个基础平台，可用于搭建各种应用和项目。

## 五、电容和电阻的参数应该如何选择？在电路设计中需要考虑哪些因素？

在电路设计中，选择电容和电阻的参数需要考虑以下几个因素：

- 频率响应：对于频率较高的信号处理，需要选择具有足够高截止频率（或带宽）的电容和电阻。
    
- 容值/阻值：根据电路需求确定所需的电容值和电阻值。对于滤波、耦合、定时等应用，通常会根据设计规格和性能要求选择适当的数值。
    
- 精度：某些应用可能对电容和电阻的精度要求较高，需要选取具有较小偏差和更高精确度的元件。
    
- 温度特性：温度变化对一些应用来说可能是一个重要因素。在选择元件时，要考虑其温度系数以保持稳定性。
    
- 供应商可获得性与成本：了解市场上可获得的不同型号和品牌，并综合考虑价格、供货可靠性等因素进行选择。
    

在电路设计中还需要考虑以下因素：

- 功耗：估算整个电路消耗的功耗，确保所选元件能够满足系统需求，并尽量降低功耗。
    
- 噪声抑制：针对敏感应用或高信噪比要求的电路，选择适当的元件以减小噪声干扰。
    
- 电压和电流容量：根据设计需求选择合适的电压和电流容量，确保元件能够正常工作并承受所需的电压和电流。
    
- 可靠性和寿命：考虑元件的可靠性和寿命，选择具有较长使用寿命和良好可靠性的元件，以降低维护成本。
    
- 环境条件：考虑环境条件对元件影响，如温度、湿度、震动等，并选择符合环境要求的耐受能力较强的元件。
    

## 六、对特征阻抗了解吗？请阐述一下 。

特征阻抗是指在传输线上的单位长度上所呈现的电流与电压之间的比值。它是描述传输线性质的一个重要参数，可以帮助我们分析和设计传输线路。

特征阻抗通常用符号Z₀表示，它是一个复数，包括实部（电阻）和虚部（反射系数）。特征阻抗与传输线的几何形状、材料特性以及外界环境等因素有关。

具体来说，对于无限长均匀传输线，其特征阻抗可以通过以下公式计算得到：

```
Z₀ = sqrt(L / C)
```

其中，L表示单位长度上的电感，C表示单位长度上的电容。这个公式表明了特征阻抗与传输线中的电感和电容之间的关系。

特征阻抗在传输线设计中具有重要意义。它决定了信号在传输线上的衰减、速度和波形失真等方面的特性。当信号源的输出阻抗与传输线的特征阻抗相匹配时，可以实现最大功率传递。而当信号源输出阻抗与特征阻抗不匹配时，会导致信号反射和损耗。

此外，在高频应用中，了解特征阻抗可以帮助我们进行传输线的匹配设计，以减小信号反射和干扰。特征阻抗也是计算传输线参数、分析信号传输特性以及优化信号完整性的重要参考。

## 七、了解半波振子吗？如何拓展它的带宽？

半波振子是一种基本的电路元件，由一个电感和一个电容组成，可以产生特定频率的振荡信号。它常用于无线通信、射频电路和振荡器等应用中。要拓展半波振子的带宽，可以采取以下几种方法：

- 使用调谐电路：在半波振子电路中添加一个调谐电路，例如变压器、可变电容器或可变电感器。通过调整这些元件的参数，可以改变振荡频率并扩展带宽范围。
    
- 多级放大：将多个半波振子级联起来形成多级放大器。每个阶段的半波振子工作在不同的频率上，并且它们之间通过耦合元件进行能量传递。这样可以拓展整体系统的带宽范围。
    
- 反馈控制：使用反馈网络来控制半波振子的工作点和频率响应。通过在输出端引入部分输出信号到输入端，形成反馈回路，可以调节频率和增益特性，并且有助于拓展带宽。
    
- 使用多种谐振模式：针对某些特殊要求，如更广泛的频率范围或多频段振荡，可以设计具有不同谐振模式的半波振子。这样可以使振荡器在多个频段上工作，从而实现更宽的带宽。
    

## 八、高速电路（比如 DDR 信号）布线时应该注意什么 ？

在高速电路（如 DDR 信号）布线时，需要注意以下几个方面：

(1)信号完整性方面

控制走线阻抗

原因：高速信号在传输过程中，需要保持一致的阻抗，以避免信号反射和失真。对于 DDR 信号，通常需要控制阻抗在特定的范围内（如 50 欧姆或 60 欧姆）。

方法：合理设计 PCB 走线的宽度、间距和层叠结构，使用阻抗计算工具确保走线阻抗符合要求。可以通过调整走线宽度、与参考平面的距离以及使用特定的 PCB 材料来实现所需的阻抗。

减少信号反射

原因：信号在传输线的不连续点（如走线拐角、过孔、连接器等）处会发生反射，导致信号失真和时序问题。

方法：

- 避免走线的直角拐角，采用 45 度拐角或圆弧拐角，以减少信号反射。
    
- 优化过孔设计，尽量减小过孔的尺寸和寄生电容电感，使用背钻技术减少过孔的残桩长度。
    
- 选择合适的连接器，确保连接器的阻抗与走线匹配，并尽量减少连接器的数量和长度。
    

控制信号串扰

原因：高速信号之间的电磁耦合会引起串扰，影响信号质量。DDR 信号通常是并行传输的，更容易受到串扰的影响。

方法：

- 增加信号走线之间的间距，遵循 3W 原则（即走线中心间距至少为走线宽度的 3 倍），以减少串扰。
    
- 在信号走线之间插入地平面或电源平面，形成屏蔽，降低串扰。
    
- 对敏感信号进行包地处理，进一步减少串扰的影响。
    

**保证信号时序**

原因：高速电路对信号的时序要求非常严格，信号的延迟和相位差必须控制在一定范围内，以确保数据的正确传输和处理。

方法：

- 进行等长布线，确保同一组信号（如 DDR 数据线、地址线等）的走线长度尽量相等，以减少信号的延迟差。可以使用蛇形走线等方式来调整走线长度。
    
- 控制信号的传输延迟，通过合理选择 PCB 材料、走线长度和层叠结构等因素，来满足信号的时序要求。
    

(2)电源完整性方面

电源分配网络设计

原因：高速电路需要稳定的电源供应，电源的噪声和波动会影响信号质量和系统性能。DDR 电路通常需要较大的电流，对电源的要求更高。

方法：

- 设计合理的电源分配网络（PDN），包括电源层和地层的布局、去耦电容的选择和放置等。确保电源层和地层的低阻抗路径，以减少电源噪声和纹波。
    
- 在 DDR 芯片附近放置足够数量的去耦电容，以提供瞬态电流并降低电源噪声。选择合适的电容值和封装，根据芯片的电源需求和工作频率进行优化。
    

电源平面分割

原因：如果 PCB 上有多个电源域或不同电压的电源，需要进行电源平面分割，以避免电源之间的干扰。

方法：

- 使用分割平面将不同的电源区域分开，确保每个电源区域有独立的电源层和地层。在分割平面处使用足够的去耦电容和磁珠等元件，以减少电源之间的耦合。
    
- 对于 DDR 电路，通常需要单独的电源平面来提供稳定的电源，可以将其与其他电源区域分开，以减少干扰。
    

(3)EMI 与散热方面

电磁干扰（EMI）控制

原因：高速电路会产生电磁辐射，可能会干扰其他电子设备或受到外部电磁干扰。DDR 信号的高频特性使其更容易产生 EMI 问题。

方法：

- 合理布局 PCB，将高速信号和敏感电路远离电磁干扰源，如电源模块、时钟发生器等。
    
- 使用屏蔽罩或屏蔽层来屏蔽高速信号和敏感电路，减少 EMI 的辐射和接收。
    
- 在 PCB 设计中遵循 EMI 设计规范，如控制走线长度、减少环路面积、使用滤波元件等。
    

散热考虑

原因：高速电路在工作时会产生热量，如果散热不良，可能会导致芯片温度过高，影响系统性能和可靠性。DDR 芯片通常功耗较大，需要考虑散热问题。

方法：

- 在 PCB 布局时，将发热量大的芯片分散布置，避免集中在一个区域，以利于散热。
    
- 在芯片下方或附近放置散热过孔，将热量传导到 PCB 的背面或其他散热层。
    
- 可以考虑使用散热片、风扇等外部散热措施，以确保芯片在正常工作温度范围内。
    

(4)其他方面

参考时钟设计

原因：高速电路通常需要一个稳定的参考时钟，时钟的质量和稳定性对系统性能至关重要。DDR 电路的时钟信号需要满足严格的时序要求。

方法：

- 选择高质量的时钟源，如晶体振荡器或锁相环（PLL），确保时钟的频率稳定度和相位噪声满足要求。
    
- 合理布局时钟走线，尽量缩短时钟走线长度，减少时钟信号的延迟和失真。可以使用差分时钟信号来提高时钟的抗干扰能力。
    
- 对时钟信号进行端接和匹配，以减少信号反射和失真。
    

测试与调试

原因：高速电路的设计和布线复杂，需要进行充分的测试和调试，以确保系统的性能和可靠性。

方法：

- 在 PCB 设计阶段，进行信号完整性和电源完整性仿真，预测和分析潜在的问题，并进行优化设计。
    
- 在 PCB 制作完成后，进行实际的测试和调试，包括信号质量测试、时序测试、电源稳定性测试等。使用示波器、逻辑分析仪等测试设备，对高速信号进行测量和分析。
    
- 根据测试结果，进行必要的调整和优化，如调整走线长度、更换元件、优化电源分配等，以确保系统满足设计要求。
    

## 九、什么叫高速信号？判断高速信号时除了考虑传输线的长度和信号波长的关系，还需要看什么 ？

速信号是指在传输过程中具有较高频率、较快速度的信号。一般来说，当信号的频率接近或超过系统时钟频率的一半时，可以将其视为高速信号。

除了考虑传输线的长度和信号波长的关系外，判断高速信号还需要考虑以下几个因素：

- 上升时间（Rise Time）：上升时间是指信号从低电平到高电平或从高电平到低电平所需时间。当上升时间小于或接近传输线延迟时，可以认为这是一个高速信号。
    
- 带宽（Bandwidth）：带宽表示信号包含的频率范围。如果信号在传输线上传播时丢失了大部分能量，则可能会导致波形失真和不稳定性，表明这是一个高速信号。
    
- 边沿速度（Edge Rate）：边沿速度描述了信号由低电平到高电平或由高电平到低电平的变化速率。当边沿速度非常快时，可能需要采取特殊措施来处理这些高速边沿。
    
- 时钟频率（Clock Frequency）：对于同步系统中使用的时钟信号，其频率通常很高。当时钟频率达到一定水平时，可以视为高速信号。
    
- 信号间隔时间（Signal Spacing）：如果多个信号之间的间隔时间较短，使得在传输线上传输和处理这些信号需要更快的速度和更高的带宽，那么可以将其视为高速信号。
    

## 十、说说你对 PSRR（纹波抑制比）的理解

PSRR（Power Supply Rejection Ratio，纹波抑制比）是衡量电源对输入纹波干扰的抑制能力的指标。它描述了电源对于输入纹波信号的衰减程度。

一般来说，电子设备需要稳定的电源供应以确保正常运行。然而，现实中，电源往往会受到各种因素的干扰和噪声影响，产生输出纹波。PSRR可以用来评估电源抑制这些输入纹波的能力。

PSRR通常以分贝（dB）为单位表示，并定义为输出纹波与输入纹波之比。具体计算公式如下：

```
PSRR = 20log10(Vin/Vout)
```

其中Vin表示输入纹波电压（或功率），Vout表示输出纹波电压（或功率）。数值上越大的PSRR意味着更好的抑制效果。

一个高PSRR值表示电源能够有效地降低输入纹波对系统性能造成的影响。在设计中，通常希望选择具有较高PSRR值的稳定、可靠的电源模块或组件。

## 十一、增益带宽积体现在什么图像上 ？

增益带宽积（Gain-Bandwidth Product，GBW）通常体现在放大器的频率响应曲线上。

频率响应曲线显示了放大器在不同频率下的增益特性。当频率逐渐增加时，放大器的增益会逐渐降低。增益带宽积是指在这个频率响应曲线上，从低频到高频处的增益与带宽之间的乘积。

一般来说，增益带宽积越大，表示放大器能够在更高的频率范围内提供较稳定和线性的放大倍数。而较小的增益带宽积则表示放大器在高频段可能会出现衰减或失真。

通常，在设计放大器电路时，需要根据实际需求选择适当的增益和带宽。如果需要更高的带宽，则需要相应地减小增益带宽积；反之亦然。

因此，通过观察放大器的频率响应曲线可以得知其增益带宽积大小，并据此判断其适用于何种工作条件和应用场景。

## 十二、BJT与MOS的区别

BJT（双极型晶体管）和MOS（金属氧化物半导体场效应管）是两种常用的晶体管器件，它们的区别如下：结构不同：BJT有三个区域——发射区、基区和集电区，MOS有一个栅极、一个绝缘层和一个衬底。导通方式不同：BJT的导通是通过注入少量的载流子来控制大量的载流子流动，MOS的导通是通过调节栅极电场来控制载流子在绝缘层和衬底之间的通道。电压控制特性不同：BJT的电流放大系数（即电流收发比）受温度和器件参数的影响较大，而MOS的电流放大系数可以通过调节栅极电压来精确控制。功耗不同：BJT的静态功耗高于MOS，MOS的动态功耗相对较高。噪声特性不同：BJT的噪声系数较小，MOS的噪声系数相对较大。因此，在电路设计中，我们需要根据具体的应用场景和性能需求来选择适当的晶体管器件。

## 十三、运放噪声如何考虑，噪声增益如何计算

运放的噪声是指在运放的输入端引入的随机噪声，这种噪声是由于运放内部元件的随机性和运放工作过程中的热噪声产生的。为了避免这种噪声对系统性能的影响，需要对运放噪声进行考虑和限制。一般来说，运放的噪声可以通过两个参数来表示，一个是等效输入噪声电压（Equivalent Input Noise Voltage，EINV），另一个是等效输入噪声电流（Equivalent Input Noise Current，EINC）。这两个参数都是用来描述运放输入端引入的噪声的，EINV用来描述噪声电压，EINC用来描述噪声电流。在计算运放噪声增益时，可以使用以下公式：Noise Gain = (Rf/Rin) x (1 + Rf/Rg) 其中，Rf是反馈电阻，Rin是输入电阻，Rg是信号源电阻。这个公式考虑了运放内部噪声和外部电路噪声的贡献，通过这个公式可以计算出运放在特定电路中的噪声增益，进而对系统的噪声性能进行评估和优化。

## 十四、BUCK电感的纹波如何考虑，纹波与噪声的关系

BUCK电路中电感器的电流会产生纹波，这会导致电路的输出也出现纹波。为了保证输出纹波的幅值和频率范围都在可接受的范围内，通常需要对电感进行合适的选择和设计。在设计BUCK电路中的电感时，需要考虑以下几点：电感的品质因数Q值，Q值越高，纹波越小。电感的值，电感值越大，纹波越小。电感的大小，物理大小越大，纹波越小。电感的电流波形，方波和三角波都会影响电感的纹波。BUCK电路中电感的纹波可以用公式 ΔIL = Vout × Δt / L 来计算，其中ΔIL为电感电流的纹波，Vout为输出电压，Δt为电感电流的上升或下降时间，L为电感值。BUCK电路中的噪声可以分为两种类型：随机噪声和周期性噪声。随机噪声源于电路中的热噪声和器件本身的噪声，可以用功率谱密度来描述；周期性噪声源于电路中的非线性元件和开关噪声，通常用纹波来表示。在BUCK电路中，纹波和噪声之间存在一定的关系，通常纹波越小，噪声也会越小。此外，如果在设计BUCK电路时选择合适的元件和减少非线性因素的影响，也可以有效降低噪声水平。

## 十五、纹波如何测量

纹波是指电路中直流电源转换成交流电源后，交流电源中电压或电流存在波动的现象。在实际的电路设计中，需要对纹波进行测量和分析，以保证电路的正常工作和性能稳定。常见的测量方法有：示波器法：使用示波器测量电路中的电压或电流波形，并通过观察波形的幅度和频率来评估纹波的大小。电压表法：使用电压表或数字万用表等工具测量电路中的平均值和交流分量，通过计算平均值和交流分量之间的差值来得出纹波大小。电流钳形式法：使用电流钳测量电路中的电流波形，并通过观察波形的幅度和频率来评估纹波的大小。频谱分析法：通过将电路输出的波形进行频谱分析，得出各频段信号的幅度大小，从而得出纹波大小。纹波与噪声之间存在一定的关系，因为纹波本质上也是一种电路中的干扰信号。因此，在进行纹波测量时，也需要考虑噪声的影响，并对电路进行合理的噪声抑制和滤波设计。

## 十六、BUCK的效率如何考虑，损耗体现在哪些方面

BUCK的效率可以通过以下公式计算：Efficiency = Pout / Pin = Vout x Iout / Vin x Iin 其中，Pout是输出功率，Pin是输入功率，Vout是输出电压，Vin是输入电压，Iout是输出电流，Iin是输入电流。BUCK电路的损耗主要体现在以下几个方面：导通损耗：在MOS管导通时，会有一定的电压降，从而产生导通损耗。开关损耗：在MOS管切换时，由于开关时间不为零，会产生一定的开关损耗。换能器损耗：BUCK电路中的电感和输出电容会产生换能器损耗。控制电路损耗：BUCK电路中的控制电路也会产生一定的损耗。这些损耗会导致电路效率降低，同时也会产生热量，需要通过散热等手段进行处理。为了提高BUCK电路的效率，可以采取以下措施：选择低导通电阻和低开关时间的MOS管，减小导通损耗和开关损耗。合理选择电感和输出电容，尽量减小换能器损耗。优化控制电路，降低控制电路损耗。通过优化PCB布局和散热设计等手段，提高电路的散热效果，减小温升，从而提高效率。

## 十七、MCU选项考虑

选择MCU时需要考虑以下几个方面：1.性能：包括运行速度、存储容量、外设数量和类型等。根据具体应用场景选择不同的MCU型号。2.功耗：需要考虑应用场景对功耗的要求。如果需要长时间运行，需要选择低功耗MCU。3.可靠性：需要考虑MCU的可靠性和稳定性。选择品牌知名、经过验证的MCU可以降低故障率。4.成本：需要考虑MCU的成本和性价比，根据具体应用场景选择合适的MCU型号。5.生态环境：需要考虑MCU的开发工具、支持社区、示例代码等生态环境。6.供应链：需要考虑MCU的供应链稳定性和可靠性，避免由于MCU供应问题导致项目延误。

## 十八、如果给一个500M的信号，该如何布线

针对高速信号的布线需要注意以下几点：尽可能使用直线布线：直线布线可以最大限度地减小信号路径的长度，从而减小信号的延迟和失真。避免使用锐角弯曲：锐角弯曲会导致信号的反射和串扰，应尽可能使用圆弧或者45度斜角弯曲，或者采用直角转角来实现转向。尽可能减少信号路径上的接口和连接器数量：接口和连接器都会导致信号的反射、串扰和噪声。因此，应尽可能减少信号路径上的接口和连接器数量。使用差分对布线：对于高速信号，可以使用差分对布线来减小串扰和噪声。差分对布线指的是同时将正负两个信号导线一起布线，并尽量保持两条导线之间的距离相等。对于长距离传输，可以采用屏蔽电缆或者同轴电缆来减小干扰和信号失真。屏蔽电缆指的是将信号线包裹在一个金属屏蔽层中，可以减小外界干扰和信号反射；同轴电缆指的是信号线和屏蔽层分别被包裹在两个同心圆管中，可以有效减小串扰和信号失真。尽量远离其他高速信号源，避免互相干扰。选择合适的线宽和层数：线宽和层数决定了电路板的阻抗特性和信号传输质量，需要根据具体信号频率和板子大小来确定。

## 十九、过孔对信号的影响

过孔是电路板上常用的结构，用于连接不同层次的电路和传递信号。但是，过孔对信号的传输会产生一定的影响。首先，过孔会增加信号线的长度，从而引入延迟和相位偏移。这种延迟和相位偏移通常被称为“延迟失配”，可能会导致信号畸变和失真。其次，过孔周围的地平面和电源平面可能会影响信号的噪声水平。如果在过孔周围没有足够的地平面或电源平面，会产生高频噪声，从而影响信号的质量。因此，在进行电路设计时，需要谨慎考虑过孔的位置和布局，尽量避免过孔的影响，并采取相应的措施来减小过孔对信号的影响。例如，采用合适的布局和引线方式，增加地平面和电源平面的面积，使用屏蔽罩等。

## 二十、综合能力类

- 除了模拟电路之外，对于数字电路了解多不多？有没有用过单片机 ？
    
- 如果在项目开发过程中工程师跳过了某些开发流程，他们反映这些流程冗余，此时你会怎么做 ？
    
- 当你和同事做不同模块，他说你的模块有问题，要怎么解决 ？
    
- 你未来的职业规划是什么 ？
    
- 为什么想要加入大疆？对大疆的产品和公司文化有什么了解 ？
    
- 你平时关注哪些电子产品？有没有玩过大疆的产品 ？
    
- 请举例说明你在团队合作中遇到的挑战以及你是如何应对的。
    
- 你认为爱一行干一行和干一行爱一行哪个更重要，你更倾向于哪个 ？
    
- 如果入职以后你发现和你预期的不一样，你会怎么办 ？
    

2023年往期回顾

[C/C++发展方向（强烈推荐！！）](http://mp.weixin.qq.com/s?__biz=Mzg4NDQ0OTI4Ng==&mid=2247487749&idx=1&sn=e57e6f3df526b7ad78313d9428e55b6b&chksm=cfb9586cf8ced17a8c7830e380a45ce080c2b8258e145f5898503a779840a5fcfec3e8f8fa9a&scene=21#wechat_redirect)  

[Linux内核源码分析（强烈推荐收藏！](http://mp.weixin.qq.com/s?__biz=Mzg4NDQ0OTI4Ng==&mid=2247487832&idx=1&sn=bf0468e26f353306c743c4d7523ebb07&chksm=cfb95831f8ced127ca94eb61e6508732576bb150b2fb2047664f8256b3da284d0e53e2f792dc&scene=21#wechat_redirect)[）](http://mp.weixin.qq.com/s?__biz=Mzg4NDQ0OTI4Ng==&mid=2247487832&idx=1&sn=bf0468e26f353306c743c4d7523ebb07&chksm=cfb95831f8ced127ca94eb61e6508732576bb150b2fb2047664f8256b3da284d0e53e2f792dc&scene=21#wechat_redirect)  

[从菜鸟到大师，用Qt编写出惊艳世界应用](http://mp.weixin.qq.com/s?__biz=Mzg4NDQ0OTI4Ng==&mid=2247488117&idx=1&sn=a83d661165a3840fbb23d0e62b5f303a&chksm=cfb95b1cf8ced20ae63206fe25891d9a37ffe76fd695ef55b5506c83aad387d55c4032cb7e4f&scene=21#wechat_redirect)  

[存储全栈开发：构建高效的数据存储系统](http://mp.weixin.qq.com/s?__biz=Mzg4NDQ0OTI4Ng==&mid=2247487696&idx=1&sn=b5ebe830ddb6798ac5bf6db4a8d5d075&chksm=cfb959b9f8ced0af76710c070a6db2677fb359af735e79c6378e82ead570aa1ce5350a146793&scene=21#wechat_redirect)

[突破性能瓶颈：释放DPDK带来无尽潜力](http://mp.weixin.qq.com/s?__biz=Mzg4NDQ0OTI4Ng==&mid=2247488150&idx=1&sn=2cc5ace4391d4eed060fa463fc73dd92&chksm=cfb95bfff8ced2e9589eecd66e7c6e906f28626bef6c1bce3fa19ae2d1404baa25ba3ebfedaa&scene=21#wechat_redirect)

[嵌入式音视频技术：从原理到项目应用](http://mp.weixin.qq.com/s?__biz=Mzg4NDQ0OTI4Ng==&mid=2247488135&idx=1&sn=dcc56a3af5401c338944b9b94f24c699&chksm=cfb95beef8ced2f8231c647033188be3ded88cbacf7d75feab3613f4d7f8fd8e4c8106ac88cf&scene=21#wechat_redirect)

[](http://mp.weixin.qq.com/s?__biz=MzIwNzA1OTA2OQ==&mid=2657215412&idx=1&sn=d3c64ac21056b84814db9903b656853a&chksm=8c8d62a6bbfaebb09df1f727e201c401a1663596a719fa9cb4c7859158e62ebedb5bd5f13b8f&scene=21#wechat_redirect)[C++游戏开发，基于魔兽开源后端框架](http://mp.weixin.qq.com/s?__biz=Mzg4NDQ0OTI4Ng==&mid=2247486920&idx=1&sn=82ca8a72473850e431c01e7c39d8c8c0&chksm=cfb944a1f8cecdb7051863f58d334ff3dea8afae1ecd8bc693287b2f483d2ce8f94eed565253&scene=21#wechat_redirect)

校招应届生14

面试八股文11

硬件工程师2

大疆4

C/C++开发103

校招应届生 · 目录

上一篇C++高频面试题：操作系统面试热点下一篇牛客网C/C++校招、社招面试题总结

Reads 4199

​