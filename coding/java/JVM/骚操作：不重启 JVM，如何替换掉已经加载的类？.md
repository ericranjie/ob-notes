ç‚¹å‡»å…³æ³¨ ğŸ‘‰Â èŠ‹é“æºç 

_2022å¹´01æœˆ08æ—¥ 08:01_

ç‚¹å‡»ä¸Šæ–¹â€œèŠ‹é“æºç â€ï¼Œé€‰æ‹©â€œ[è®¾ä¸ºæ˜Ÿæ ‡](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247486188&idx=3&sn=f160d91ea23e5113e6077c500a2e30c4&chksm=fa49755dcd3efc4bf4f566fbbbf74c191d0b79f2d3222fd211bc52d80b5ef127f52b1158ed71&scene=21#wechat_redirect)â€

ç®¡å¥¹å‰æµªï¼Œè¿˜æ˜¯åæµªï¼Ÿ

èƒ½æµªçš„æµªï¼Œæ‰æ˜¯å¥½æµªï¼

æ¯å¤©Â **10:33**Â æ›´æ–°æ–‡ç« ï¼Œæ¯å¤©æ‰äº¿ç‚¹ç‚¹å¤´å‘...

æºç ç²¾å“ä¸“æ 

- [åŸåˆ› | Java 2021Â è¶…ç¥ä¹‹è·¯ï¼Œå¾ˆè‚~](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21#wechat_redirect)

- [ä¸­æ–‡è¯¦ç»†æ³¨é‡Šçš„å¼€æºé¡¹ç›®](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247486264&idx=1&sn=475ac3f1ef253a33daacf50477203c80&chksm=fa497489cd3efd9f7298f5da6aad0c443ae15f398436aff57cb2b734d6689e62ab43ae7857ac&scene=21#wechat_redirect)

- [RPC æ¡†æ¶ Dubbo æºç è§£æ](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247484647&idx=1&sn=9eb7e47d06faca20d530c70eec3b8d5c&chksm=fa497b56cd3ef2408f807e66e0903a5d16fbed149ef7374021302901d6e0260ad717d903e8d4&scene=21#wechat_redirect)

- [ç½‘ç»œåº”ç”¨æ¡†æ¶ Netty æºç è§£æ](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247485054&idx=2&sn=9f3b85f7b8454634da6c5c2ded9b4dba&chksm=fa4979cfcd3ef0d9d2dd92d8d1bd8f1553abc6e2095a5d743e0b2c2afe4955ea2bbbd7a4b79d&token=55862109&lang=zh_CN&scene=21#wechat_redirect)

- [æ¶ˆæ¯ä¸­é—´ä»¶ RocketMQ æºç è§£æ](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247486256&idx=1&sn=81daccd3fcd2953456c917630636fb26&chksm=fa497481cd3efd97d9239f5eab060e49dea9876a6046eadba0effb878d2fb51f3ba5733e4c0b&scene=21#wechat_redirect)

- [æ•°æ®åº“ä¸­é—´ä»¶ Sharding-JDBC å’Œ MyCAT æºç è§£æ](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247486257&idx=1&sn=4d3c9c675f8833157641a2e0b48e498c&chksm=fa497480cd3efd96fe17975b0b8b141e87fd0a62673e6a30b501460de80b3eb997056f09de08&scene=21#wechat_redirect)

- [ä½œä¸šè°ƒåº¦ä¸­é—´ä»¶ Elastic-Job æºç è§£æ](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247486258&idx=1&sn=ae5665ae9c3002b53f87cab44948a096&chksm=fa497483cd3efd950514da5a37160e7fd07f0a96f39265cf7ba3721985e5aadbdcbe7aafc34a&scene=21#wechat_redirect)

- [åˆ†å¸ƒå¼äº‹åŠ¡ä¸­é—´ä»¶ TCC-Transaction æºç è§£æ](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247486259&idx=1&sn=b023cf3dbf97e5da59db2f4ee632f5a6&chksm=fa497482cd3efd9402d71469f71863f71a6998b27e12ca2e00446b8178d79dcef0721d8e570a&scene=21#wechat_redirect)

- [Eureka å’Œ Hystrix æºç è§£æ](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247486260&idx=1&sn=8f14c0c191d6f8df6eb34202f4ad9708&chksm=fa497485cd3efd93937143a648bc1b530bc7d1f6f8ad4bf2ec112ffe34dee80b474605c22db0&scene=21#wechat_redirect)

- [Java å¹¶å‘æºç ](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247486261&idx=1&sn=bd69f26aadfc826f6313ffbb95e44ee5&chksm=fa497484cd3efd92352d6fb3d05ccbaebca2fafed6f18edbe5be70c99ba088db5c8a7a8080c1&scene=21#wechat_redirect)

[æ¥æºï¼šç¾å›¢æŠ€æœ¯åšå®¢](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&scene=21#wechat_redirect)

- [Javaå¯¹è±¡è¡Œä¸º](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21&token=899450012&lang=zh_CN#wechat_redirect)

- [java.lang.instrument.Instrumentation](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21&token=899450012&lang=zh_CN#wechat_redirect)

- [ç›´æ¥æ“ä½œå­—èŠ‚ç ](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21&token=899450012&lang=zh_CN#wechat_redirect)

- [BTrace](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21&token=899450012&lang=zh_CN#wechat_redirect)

- [Arthas](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21&token=899450012&lang=zh_CN#wechat_redirect)

- [ä¸‰ç”Ÿä¸‡ç‰©](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21&token=899450012&lang=zh_CN#wechat_redirect)

______________________________________________________________________

åœ¨é¥è¿œçš„å¸Œè‰¾æ–¯æ˜Ÿçƒçˆªå“‡å›½å¡æ²ƒåŸä¸­ï¼Œä¸¤åå¹´è½»çš„ç¨‹åºå‘˜æ­£åœ¨ä¸ºä¸€ä»¶äº‹æƒ…è‹¦æ¼ï¼Œç¨‹åºå‡ºé—®é¢˜äº†ï¼Œä¸€æ—¶çœ‹ä¸å‡ºé—®é¢˜å‡ºåœ¨å“ªé‡Œï¼Œäºæ˜¯æœ‰äº†ä»¥ä¸‹å¯¹è¯ï¼š

â€œDebugä¸€ä¸‹å§ã€‚â€

â€œçº¿ä¸Šæœºå™¨ï¼Œæ²¡å¼€Debugç«¯å£ã€‚â€

â€œçœ‹æ—¥å¿—ï¼Œçœ‹çœ‹è¯·æ±‚å€¼å’Œè¿”å›å€¼åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿâ€

â€œé‚£æ®µä»£ç æ²¡æ‰“å°æ—¥å¿—ã€‚â€

â€œæ”¹ä»£ç ï¼ŒåŠ æ—¥å¿—ï¼Œé‡æ–°å‘å¸ƒä¸€æ¬¡ã€‚â€

â€œæ€€ç–‘æ˜¯çº¿ç¨‹æ± çš„é—®é¢˜ï¼Œé‡å¯ä¼šç ´åç°åœºã€‚â€

é•¿è¾¾å‡ åç§’çš„æ²‰é»˜ä¹‹åï¼šâ€œæ®è¯´ï¼Œæ’æŸ¥é—®é¢˜çš„æœ€é«˜å¢ƒç•Œï¼Œå°±æ˜¯åªé€šè¿‡Reviewä»£ç æ¥å‘ç°é—®é¢˜ã€‚â€

æ¯”å‡ åç§’é•¿å‡ åå€çš„æ²‰é»˜ä¹‹åï¼šâ€œæˆ‘è½®è¯¢äº†é‚£æ®µä»£ç ä¸€åä¸ƒéä¹‹åï¼Œç»ˆäºå¾—å‡ºä¸€ä¸ªç»“è®ºã€‚â€

â€œç»“è®ºæ˜¯ï¼Ÿâ€

â€œæˆ‘è¿˜æ²¡åˆ°è¾¾åªé€šè¿‡Reviewä»£ç å°±èƒ½å‘ç°é—®é¢˜çš„è‡³é«˜å¢ƒç•Œã€‚â€

## [Javaå¯¹è±¡è¡Œä¸º](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&scene=21#wechat_redirect)

æ–‡ç« å¼€å¤´çš„é—®é¢˜æœ¬è´¨ä¸Šæ˜¯åŠ¨æ€æ”¹å˜å†…å­˜ä¸­å·²å­˜åœ¨å¯¹è±¡çš„è¡Œä¸ºé—®é¢˜ã€‚

æ‰€ä»¥ï¼Œå¾—å…ˆå¼„æ¸…æ¥šJVMä¸­å’Œå¯¹è±¡è¡Œä¸ºæœ‰å…³çš„åœ°æ–¹åœ¨å“ªé‡Œï¼Œæœ‰æ²¡æœ‰æ›´æ”¹çš„å¯èƒ½æ€§ã€‚

å¯¹è±¡ä½¿ç”¨ä¸¤ç§ä¸œè¥¿æ¥æè¿°äº‹ç‰©ï¼šè¡Œä¸ºå’Œå±æ€§ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

`publicÂ classÂ Person{      Â Â privateÂ intÂ age;   Â Â privateÂ StringÂ name;      Â Â publicÂ voidÂ speak(StringÂ str)Â {   Â Â Â Â System.out.println(str);   Â }      Â Â publicÂ Person(intÂ age,Â StringÂ name)Â {   Â Â Â Â this.ageÂ =Â age;   Â Â Â Â this.nameÂ =Â name;   Â Â }   }   `

ä¸Šé¢Personç±»ä¸­ageå’Œnameæ˜¯å±æ€§ï¼Œspeakæ˜¯è¡Œä¸ºã€‚å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ï¼Œæ¯ä¸ªå¯¹è±¡çš„å±æ€§éƒ½å±äºå¯¹è±¡æœ¬èº«ï¼Œä½†æ˜¯æ¯ä¸ªå¯¹è±¡çš„è¡Œä¸ºå´æ˜¯å…¬å…±çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æˆ‘ä»¬ç°åœ¨åŸºäºPersonç±»åˆ›å»ºäº†ä¸¤ä¸ªå¯¹è±¡ï¼ŒpersonAå’ŒpersonBï¼š

`PersonÂ personAÂ =Â newÂ Person(43,Â "lixunhuan");   personA.speak("æˆ‘æ˜¯æå¯»æ¬¢");   PersonÂ personBÂ =Â newÂ Person(23,Â "afei");   personB.speak("æˆ‘æ˜¯é˜¿é£");   `

personAå’ŒpersonBæœ‰å„è‡ªçš„å§“åå’Œå¹´é¾„ï¼Œä½†æ˜¯æœ‰å…±åŒçš„è¡Œä¸ºï¼šspeakã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æ˜¯Javaè¯­è¨€çš„è®¾è®¡è€…ï¼Œæˆ‘ä»¬ä¼šæ€ä¹ˆå­˜å‚¨å¯¹è±¡çš„è¡Œä¸ºå’Œå±æ€§å‘¢ï¼Ÿ

â€œå¾ˆç®€å•ï¼Œå±æ€§è·Ÿç€å¯¹è±¡èµ°ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½å­˜ä¸€ä»½ã€‚è¡Œä¸ºæ˜¯å…¬å…±çš„ä¸œè¥¿ï¼ŒæŠ½ç¦»å‡ºæ¥ï¼Œå•ç‹¬æ”¾åˆ°ä¸€ä¸ªåœ°æ–¹ã€‚â€

â€œå’¦ï¼ŸæŠ½ç¦»å‡ºå…¬å…±çš„éƒ¨åˆ†ï¼Œè·Ÿä»£ç å¤ç”¨å¥½åƒå•Šã€‚â€

â€œå¤§é“è‡³ç®€ï¼Œå¾ˆå¤šä¸œè¥¿æœ¬æ¥éƒ½æ˜¯æ®Šé€”åŒå½’ã€‚â€

ä¹Ÿå°±æ˜¯è¯´ï¼Œç¬¬ä¸€æ­¥æˆ‘ä»¬é¦–å…ˆå¾—æ‰¾åˆ°å­˜å‚¨å¯¹è±¡è¡Œä¸ºçš„è¿™ä¸ªå…¬å…±çš„åœ°æ–¹ã€‚ä¸€ç•ªæœç´¢ä¹‹åï¼Œæˆ‘ä»¬å‘ç°è¿™æ ·ä¸€æ®µæè¿°ï¼š

> â€œ
>
> Method area is created on virtual machine startup, shared among all Java virtual machine threads and it is logically part of heap area. It stores per-class structures such as the run-time constant pool, field and method data, and the code for methods and constructors.

Javaçš„å¯¹è±¡è¡Œä¸ºï¼ˆæ–¹æ³•ã€å‡½æ•°ï¼‰æ˜¯å­˜å‚¨åœ¨æ–¹æ³•åŒºçš„ã€‚

â€œæ–¹æ³•åŒºä¸­çš„æ•°æ®ä»å“ªæ¥ï¼Ÿâ€

â€œæ–¹æ³•åŒºä¸­çš„æ•°æ®æ˜¯ç±»åŠ è½½æ—¶ä»classæ–‡ä»¶ä¸­æå–å‡ºæ¥çš„ã€‚â€

â€œclassæ–‡ä»¶ä»å“ªæ¥ï¼Ÿâ€

â€œä»Javaæˆ–è€…å…¶ä»–ç¬¦åˆJVMè§„èŒƒçš„æºä»£ç ä¸­ç¼–è¯‘è€Œæ¥ã€‚â€

â€œæºä»£ç ä»å“ªæ¥ï¼Ÿâ€

â€œåºŸè¯ï¼Œå½“ç„¶æ˜¯æ‰‹å†™ï¼â€

â€œå€’ç€æ¨ï¼Œæ‰‹å†™æ²¡é—®é¢˜ï¼Œç¼–è¯‘æ²¡é—®é¢˜ï¼Œè‡³äºåŠ è½½â€¦â€¦æœ‰æ²¡æœ‰åŠæ³•åŠ è½½ä¸€ä¸ªå·²ç»åŠ è½½è¿‡çš„ç±»å‘¢ï¼Ÿå¦‚æœæœ‰çš„è¯ï¼Œæˆ‘ä»¬å°±èƒ½ä¿®æ”¹å­—èŠ‚ç ä¸­ç›®æ ‡æ–¹æ³•æ‰€åœ¨çš„åŒºåŸŸï¼Œç„¶åé‡æ–°åŠ è½½è¿™ä¸ªç±»ï¼Œè¿™æ ·æ–¹æ³•åŒºä¸­çš„å¯¹è±¡è¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰å°±è¢«æ”¹å˜äº†ï¼Œè€Œä¸”ä¸æ”¹å˜å¯¹è±¡çš„å±æ€§ï¼Œä¹Ÿä¸å½±å“å·²ç»å­˜åœ¨å¯¹è±¡çš„çŠ¶æ€ï¼Œé‚£ä¹ˆå°±å¯ä»¥æå®šè¿™ä¸ªé—®é¢˜äº†ã€‚å¯æ˜¯ï¼Œè¿™å²‚ä¸æ˜¯è¿èƒŒäº†JVMçš„ç±»åŠ è½½åŸç†ï¼Ÿæ¯•ç«Ÿæˆ‘ä»¬ä¸æƒ³æ”¹å˜ClassLoaderã€‚â€

â€œå°‘å¹´ï¼Œå¯ä»¥å»çœ‹çœ‹`java.lang.instrument.Instrumentation`ã€‚â€

> â€œ
>
> æ¨èä¸‹è‡ªå·±åšçš„ Spring Boot çš„å®æˆ˜é¡¹ç›®ï¼š
>
> https://github.com/YunaiV/ruoyi-vue-pro

## [java.lang.instrument.Instrumentation](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&scene=21#wechat_redirect)

çœ‹å®Œæ–‡æ¡£ä¹‹åï¼Œæˆ‘ä»¬å‘ç°è¿™ä¹ˆä¸¤ä¸ªæ¥å£ï¼šredefineClasseså’ŒretransformClassesã€‚ä¸€ä¸ªæ˜¯é‡æ–°å®šä¹‰classï¼Œä¸€ä¸ªæ˜¯ä¿®æ”¹classã€‚è¿™ä¸¤ä¸ªå¤§åŒå°å¼‚ï¼Œçœ‹redefineClassesçš„è¯´æ˜ï¼š

> â€œ
>
> This method is used to replace the definition of a class without reference to the existing class file bytes, as one might do when recompiling from source for fix-and-continue debugging. Where the existing class file bytes are to be transformed (for example in bytecode instrumentation) retransformClasses should be used.

éƒ½æ˜¯æ›¿æ¢å·²ç»å­˜åœ¨çš„classæ–‡ä»¶ï¼ŒredefineClassesæ˜¯è‡ªå·±æä¾›å­—èŠ‚ç æ–‡ä»¶æ›¿æ¢æ‰å·²å­˜åœ¨çš„classæ–‡ä»¶ï¼ŒretransformClassesæ˜¯åœ¨å·²å­˜åœ¨çš„å­—èŠ‚ç æ–‡ä»¶ä¸Šä¿®æ”¹åå†æ›¿æ¢ä¹‹ã€‚

å½“ç„¶ï¼Œè¿è¡Œæ—¶ç›´æ¥æ›¿æ¢ç±»å¾ˆä¸å®‰å…¨ã€‚æ¯”å¦‚æ–°çš„classæ–‡ä»¶å¼•ç”¨äº†ä¸€ä¸ªä¸å­˜åœ¨çš„ç±»ï¼Œæˆ–è€…æŠŠæŸä¸ªç±»çš„ä¸€ä¸ªfieldç»™åˆ é™¤äº†ç­‰ç­‰ï¼Œè¿™äº›æƒ…å†µéƒ½ä¼šå¼•å‘å¼‚å¸¸ã€‚æ‰€ä»¥å¦‚æ–‡æ¡£ä¸­æ‰€è¨€ï¼Œinstrumentå­˜åœ¨è¯¸å¤šçš„é™åˆ¶ï¼š

> â€œ
>
> The redefinition may change method bodies, the constant pool and attributes. The redefinition must not add, remove or rename fields or methods, change the signatures of methods, or change inheritance. These restrictions maybe be lifted in future versions. The class file bytes are not checked, verified and installed until after the transformations have been applied, if the resultant bytes are in error this method will throw an exception.

æˆ‘ä»¬èƒ½åšçš„åŸºæœ¬ä¸Šä¹Ÿå°±æ˜¯ç®€å•ä¿®æ”¹æ–¹æ³•å†…çš„ä¸€äº›è¡Œä¸ºï¼Œè¿™å¯¹äºæˆ‘ä»¬å¼€å¤´çš„é—®é¢˜ï¼Œæ‰“å°ä¸€æ®µæ—¥å¿—æ¥è¯´ï¼Œå·²ç»è¶³å¤Ÿäº†ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬é™¤äº†é€šè¿‡retransformæ¥æ‰“å°æ—¥å¿—ï¼Œè¿˜èƒ½åšå¾ˆå¤šå…¶ä»–éå¸¸æœ‰ç”¨çš„äº‹æƒ…ï¼Œè¿™ä¸ªä¸‹æ–‡ä¼šè¿›è¡Œä»‹ç»ã€‚

é‚£æ€ä¹ˆå¾—åˆ°æˆ‘ä»¬éœ€è¦çš„classæ–‡ä»¶å‘¢ï¼Ÿä¸€ä¸ªæœ€ç®€å•çš„æ–¹æ³•ï¼Œæ˜¯æŠŠä¿®æ”¹åçš„Javaæ–‡ä»¶é‡æ–°ç¼–è¯‘ä¸€éå¾—åˆ°classæ–‡ä»¶ï¼Œç„¶åè°ƒç”¨redefineClassesæ›¿æ¢ã€‚ä½†æ˜¯å¯¹äºæ²¡æœ‰ï¼ˆæˆ–è€…æ‹¿ä¸åˆ°ï¼Œæˆ–è€…ä¸æ–¹ä¾¿ä¿®æ”¹ï¼‰æºç çš„æ–‡ä»¶æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿå…¶å®å¯¹äºJVMæ¥è¯´ï¼Œä¸ç®¡æ˜¯Javaä¹Ÿå¥½ï¼ŒScalaä¹Ÿå¥½ï¼Œä»»ä½•ä¸€ç§ç¬¦åˆJVMè§„èŒƒçš„è¯­è¨€çš„æºä»£ç ï¼Œéƒ½å¯ä»¥ç¼–è¯‘æˆclassæ–‡ä»¶ã€‚JVMçš„æ“ä½œå¯¹è±¡æ˜¯classæ–‡ä»¶ï¼Œè€Œä¸æ˜¯æºç ã€‚æ‰€ä»¥ï¼Œä»è¿™ç§æ„ä¹‰ä¸Šæ¥è®²ï¼Œæˆ‘ä»¬å¯ä»¥è¯´â€œJVMè·Ÿè¯­è¨€æ— å…³â€ã€‚æ—¢ç„¶å¦‚æ­¤ï¼Œä¸ç®¡æœ‰æ²¡æœ‰æºç ï¼Œå…¶å®æˆ‘ä»¬åªéœ€è¦ä¿®æ”¹classæ–‡ä»¶å°±è¡Œäº†ã€‚

> â€œ
>
> æ¨èä¸‹è‡ªå·±åšçš„ Spring Cloud çš„å®æˆ˜é¡¹ç›®ï¼š
>
> https://github.com/YunaiV/onemall

## [ç›´æ¥æ“ä½œå­—èŠ‚ç ](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&scene=21#wechat_redirect)

Javaæ˜¯è½¯ä»¶å¼€å‘äººå‘˜èƒ½è¯»æ‡‚çš„è¯­è¨€ï¼Œclasså­—èŠ‚ç æ˜¯JVMèƒ½è¯»æ‡‚çš„è¯­è¨€ï¼Œclasså­—èŠ‚ç æœ€ç»ˆä¼šè¢«JVMè§£é‡Šæˆæœºå™¨èƒ½è¯»æ‡‚çš„è¯­è¨€ã€‚æ— è®ºå“ªç§è¯­è¨€ï¼Œéƒ½æ˜¯äººåˆ›é€ çš„ã€‚æ‰€ä»¥ï¼Œç†è®ºä¸Šï¼ˆå®é™…ä¸Šä¹Ÿç¡®å®å¦‚æ­¤ï¼‰äººèƒ½è¯»æ‡‚ä¸Šè¿°ä»»ä½•ä¸€ç§è¯­è¨€ï¼Œæ—¢ç„¶èƒ½è¯»æ‡‚ï¼Œè‡ªç„¶èƒ½ä¿®æ”¹ã€‚åªè¦æˆ‘ä»¬æ„¿æ„ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥è·³è¿‡Javaç¼–è¯‘å™¨ï¼Œç›´æ¥å†™å­—èŠ‚ç æ–‡ä»¶ï¼Œåªä¸è¿‡è¿™å¹¶ä¸ç¬¦åˆæ—¶ä»£çš„å‘å±•ç½¢äº†ï¼Œæ¯•ç«Ÿé«˜çº§è¯­è¨€è®¾è®¡ä¹‹å§‹å°±æ˜¯ä¸ºæˆ‘ä»¬äººç±»æ‰€æœåŠ¡ï¼Œå…¶å¼€å‘æ•ˆç‡ä¹Ÿæ¯”æœºå™¨è¯­è¨€é«˜å¾ˆå¤šã€‚

å¯¹äºäººç±»æ¥è¯´ï¼Œå­—èŠ‚ç æ–‡ä»¶çš„å¯è¯»æ€§è¿œè¿œæ²¡æœ‰Javaä»£ç é«˜ã€‚å°½ç®¡å¦‚æ­¤ï¼Œè¿˜æ˜¯æœ‰ä¸€äº›æ°å‡ºçš„ç¨‹åºå‘˜ä»¬åˆ›é€ å‡ºäº†å¯ä»¥ç”¨æ¥ç›´æ¥ç¼–è¾‘å­—èŠ‚ç çš„æ¡†æ¶ï¼Œæä¾›æ¥å£å¯ä»¥è®©æˆ‘ä»¬æ–¹ä¾¿åœ°æ“ä½œå­—èŠ‚ç æ–‡ä»¶ï¼Œè¿›è¡Œæ³¨å…¥ä¿®æ”¹ç±»çš„æ–¹æ³•ï¼ŒåŠ¨æ€åˆ›é€ ä¸€ä¸ªæ–°çš„ç±»ç­‰ç­‰æ“ä½œã€‚å…¶ä¸­æœ€è‘—åçš„æ¡†æ¶åº”è¯¥å°±æ˜¯ASMäº†ï¼Œcglibã€Springç­‰æ¡†æ¶ä¸­å¯¹äºå­—èŠ‚ç çš„æ“ä½œå°±å»ºç«‹åœ¨ASMä¹‹ä¸Šã€‚

æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒSpringçš„AOPæ˜¯åŸºäºåŠ¨æ€ä»£ç†å®ç°çš„ï¼ŒSpringä¼šåœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºä»£ç†ç±»ï¼Œä»£ç†ç±»ä¸­å¼•ç”¨è¢«ä»£ç†ç±»ï¼Œåœ¨è¢«ä»£ç†çš„æ–¹æ³•æ‰§è¡Œå‰åè¿›è¡Œä¸€äº›ç¥ç§˜çš„æ“ä½œã€‚é‚£ä¹ˆï¼ŒSpringæ˜¯æ€ä¹ˆåœ¨è¿è¡Œæ—¶åˆ›å»ºä»£ç†ç±»çš„å‘¢ï¼ŸåŠ¨æ€ä»£ç†çš„ç¾å¦™ä¹‹å¤„ï¼Œå°±åœ¨äºæˆ‘ä»¬ä¸å¿…æ‰‹åŠ¨ä¸ºæ¯ä¸ªéœ€è¦è¢«ä»£ç†çš„ç±»å†™ä»£ç†ç±»ä»£ç ï¼ŒSpringåœ¨è¿è¡Œæ—¶ä¼šæ ¹æ®éœ€è¦åŠ¨æ€åœ°åˆ›é€ å‡ºä¸€ä¸ªç±»ã€‚è¿™é‡Œåˆ›é€ çš„è¿‡ç¨‹å¹¶éé€šè¿‡å­—ç¬¦ä¸²å†™Javaæ–‡ä»¶ï¼Œç„¶åç¼–è¯‘æˆclassæ–‡ä»¶ï¼Œç„¶ååŠ è½½ã€‚Springä¼šç›´æ¥â€œåˆ›é€ â€ä¸€ä¸ªclassæ–‡ä»¶ï¼Œç„¶ååŠ è½½ï¼Œåˆ›é€ classæ–‡ä»¶çš„å·¥å…·ï¼Œå°±æ˜¯ASMäº†ã€‚

åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çŸ¥é“äº†ç”¨ASMæ¡†æ¶ç›´æ¥æ“ä½œclassæ–‡ä»¶ï¼Œåœ¨ç±»ä¸­åŠ ä¸€æ®µæ‰“å°æ—¥å¿—çš„ä»£ç ï¼Œç„¶åretransformå°±å¯ä»¥äº†ã€‚

## [BTrace](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&scene=21#wechat_redirect)

æˆªæ­¢åˆ°ç›®å‰ï¼Œæˆ‘ä»¬éƒ½æ˜¯åœç•™åœ¨ç†è®ºæè¿°çš„å±‚é¢ã€‚é‚£ä¹ˆå¦‚ä½•è¿›è¡Œå®ç°å‘¢ï¼Ÿå…ˆæ¥çœ‹å‡ ä¸ªé—®é¢˜ï¼š

1. åœ¨æˆ‘ä»¬çš„å·¥ç¨‹ä¸­ï¼Œè°æ¥åšè¿™ä¸ªå¯»æ‰¾å­—èŠ‚ç ï¼Œä¿®æ”¹å­—èŠ‚ç ï¼Œç„¶åretransformçš„åŠ¨ä½œå‘¢ï¼Ÿæˆ‘ä»¬å¹¶éå…ˆçŸ¥ï¼Œä¸å¯èƒ½çŸ¥é“æœªæ¥æœ‰æ²¡æœ‰å¯èƒ½é‡åˆ°æ–‡ç« å¼€å¤´çš„è¿™ç§é—®é¢˜ã€‚è€ƒè™‘åˆ°æ€§ä»·æ¯”ï¼Œæˆ‘ä»¬ä¹Ÿä¸å¯èƒ½åœ¨æ¯ä¸ªå·¥ç¨‹ä¸­éƒ½å¼€å‘ä¸€æ®µä¸“é—¨åšè¿™äº›ä¿®æ”¹å­—èŠ‚ç ã€é‡æ–°åŠ è½½å­—èŠ‚ç çš„ä»£ç ã€‚

1. å¦‚æœJVMä¸åœ¨æœ¬åœ°ï¼Œåœ¨è¿œç¨‹å‘¢ï¼Ÿ

1. å¦‚æœè¿ASMéƒ½ä¸ä¼šç”¨å‘¢ï¼Ÿèƒ½ä¸èƒ½æ›´é€šç”¨ä¸€äº›ï¼Œæ›´â€œå‚»ç“œâ€ä¸€äº›ã€‚

å¹¸è¿çš„æ˜¯ï¼Œå› ä¸ºæœ‰BTraceçš„å­˜åœ¨ï¼Œæˆ‘ä»¬ä¸å¿…è‡ªå·±å†™ä¸€å¥—è¿™æ ·çš„å·¥å…·äº†ã€‚ä»€ä¹ˆæ˜¯BTraceå‘¢ï¼ŸBTraceå·²ç»å¼€æºï¼Œé¡¹ç›®æè¿°æå…¶ç®€çŸ­ï¼š

> â€œ
>
> A safe, dynamic tracing tool for the Java platform.

BTraceæ˜¯åŸºäºJavaè¯­è¨€çš„ä¸€ä¸ªå®‰å…¨çš„ã€å¯æä¾›åŠ¨æ€è¿½è¸ªæœåŠ¡çš„å·¥å…·ã€‚BTraceåŸºäºASMã€Java Attach APIã€Instrumentå¼€å‘ï¼Œä¸ºç”¨æˆ·æä¾›äº†å¾ˆå¤šæ³¨è§£ã€‚ä¾é è¿™äº›æ³¨è§£ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™BTraceè„šæœ¬ï¼ˆç®€å•çš„Javaä»£ç ï¼‰è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œè€Œä¸å¿…æ·±é™·äºASMå¯¹å­—èŠ‚ç çš„æ“ä½œä¸­ä¸å¯è‡ªæ‹”ã€‚

çœ‹BTraceå®˜æ–¹æä¾›çš„ä¸€ä¸ªç®€å•ä¾‹å­ï¼šæ‹¦æˆªæ‰€æœ‰java.ioåŒ…ä¸­æ‰€æœ‰ç±»ä¸­ä»¥readå¼€å¤´çš„æ–¹æ³•ï¼Œæ‰“å°ç±»åã€æ–¹æ³•åå’Œå‚æ•°åã€‚å½“ç¨‹åºIOè´Ÿè½½æ¯”è¾ƒé«˜çš„æ—¶å€™ï¼Œå°±å¯ä»¥ä»è¾“å‡ºçš„ä¿¡æ¯ä¸­çœ‹åˆ°æ˜¯å“ªäº›ç±»æ‰€å¼•èµ·ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Ÿ

`packageÂ com.sun.btrace.samples;      importÂ com.sun.btrace.annotations.*;   importÂ com.sun.btrace.AnyType;   importÂ staticÂ com.sun.btrace.BTraceUtils.*;      /**   Â *Â ThisÂ sampleÂ demonstratesÂ regularÂ expression   Â *Â probeÂ matchingÂ andÂ gettingÂ inputÂ arguments   Â *Â asÂ anÂ arrayÂ -Â soÂ thatÂ anyÂ overloadÂ variant   Â *Â canÂ beÂ tracedÂ inÂ "oneÂ place".Â ThisÂ example   Â *Â tracesÂ anyÂ "readXX"Â methodÂ onÂ anyÂ classÂ in   Â *Â java.ioÂ package.Â ProbedÂ class,Â methodÂ andÂ arg   Â *Â arrayÂ isÂ printedÂ inÂ theÂ action.   Â */   @BTraceÂ publicÂ classÂ ArgArrayÂ {   Â Â Â Â @OnMethod(   Â Â Â Â Â Â Â Â clazz="/java\\.io\\..*/",   Â Â Â Â Â Â Â Â method="/read.*/"   Â Â Â Â )   Â Â Â Â publicÂ staticÂ voidÂ anyRead(@ProbeClassNameÂ StringÂ pcn,Â @ProbeMethodNameÂ StringÂ pmn,Â AnyType[]Â args)Â {   Â Â Â Â Â Â Â Â println(pcn);   Â Â Â Â Â Â Â Â println(pmn);   Â Â Â Â Â Â Â Â printArray(args);   Â Â Â Â }   }   `

å†æ¥çœ‹å¦ä¸€ä¸ªä¾‹å­ï¼šæ¯éš”2ç§’æ‰“å°æˆªæ­¢åˆ°å½“å‰åˆ›å»ºè¿‡çš„çº¿ç¨‹æ•°ã€‚

```

`packageÂ com.sun.btrace.samples;      importÂ com.sun.btrace.annotations.*;   importÂ staticÂ com.sun.btrace.BTraceUtils.*;   importÂ com.sun.btrace.annotations.Export;      /**   Â *Â ThisÂ sampleÂ createsÂ aÂ jvmstatÂ counterÂ and   Â *Â incrementsÂ itÂ everytimeÂ Thread.start()Â is   Â *Â called.Â ThisÂ threadÂ countÂ mayÂ beÂ accessed   Â *Â fromÂ outsideÂ theÂ process.Â TheÂ @ExportÂ annotated   Â *Â fieldsÂ areÂ mappedÂ toÂ jvmstatÂ counters.Â TheÂ counter   Â *Â nameÂ isÂ "btrace."Â +Â <className>Â +Â "."Â +Â <fieldName>   Â */   @BTraceÂ publicÂ classÂ ThreadCounterÂ {      Â Â Â Â //Â createÂ aÂ jvmstatÂ counterÂ usingÂ @Export   Â Â Â Â @ExportÂ privateÂ staticÂ longÂ count;      Â Â Â Â @OnMethod(   Â Â Â Â Â Â Â Â clazz="java.lang.Thread",   Â Â Â Â Â Â Â Â method="start"   Â Â Â Â )   Â Â Â Â publicÂ staticÂ voidÂ onnewThread(@SelfÂ ThreadÂ t)Â {   Â Â Â Â Â Â Â Â //Â updatingÂ counterÂ isÂ easy.Â JustÂ assignÂ to   Â Â Â Â Â Â Â Â //Â theÂ staticÂ field!   Â Â Â Â Â Â Â Â count++;   Â Â Â Â }      Â Â Â Â @OnTimer(2000)   Â Â Â Â publicÂ staticÂ voidÂ ontimer()Â {   Â Â Â Â Â Â Â Â //Â weÂ canÂ accessÂ counterÂ asÂ "count"Â asÂ well   Â Â Â Â Â Â Â Â //Â asÂ fromÂ jvmstatÂ counterÂ directly.   Â Â Â Â Â Â Â Â println(count);   Â Â Â Â Â Â Â Â //Â orÂ equivalentlyÂ ...   Â Â Â Â Â Â Â Â println(Counters.perfLong("btrace.com.sun.btrace.samples.ThreadCounter.count"));   Â Â Â Â }   }   `
```

çœ‹äº†ä¸Šé¢çš„ç”¨æ³•æ˜¯ä¸æ˜¯æœ‰æ‰€å¯å‘ï¼Ÿå¿ä¸ä½å†’å‡ºæ¥è®¸å¤šæƒ³æ³•ã€‚æ¯”å¦‚æŸ¥çœ‹HashMapä»€ä¹ˆæ—¶å€™ä¼šè§¦å‘rehashï¼Œä»¥åŠæ­¤æ—¶å®¹å™¨ä¸­æœ‰å¤šå°‘å…ƒç´ ç­‰ç­‰ã€‚

æœ‰äº†BTraceï¼Œæ–‡ç« å¼€å¤´çš„é—®é¢˜å¯ä»¥å¾—åˆ°å®Œç¾çš„è§£å†³ã€‚è‡³äºBTraceå…·ä½“æœ‰å“ªäº›åŠŸèƒ½ï¼Œè„šæœ¬æ€ä¹ˆå†™ï¼Œè¿™äº›Gitä¸ŠBTraceå·¥ç¨‹ä¸­æœ‰å¤§é‡çš„è¯´æ˜å’Œä¸¾ä¾‹ï¼Œç½‘ä¸Šä»‹ç»BTraceç”¨æ³•çš„æ–‡ç« æ›´æ˜¯æ’æ²³æ²™æ•°ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚

æˆ‘ä»¬æ˜ç™½äº†åŸç†ï¼Œåˆæœ‰å¥½ç”¨çš„å·¥å…·æ”¯æŒï¼Œå‰©ä¸‹çš„å°±æ˜¯å‘æŒ¥æˆ‘ä»¬çš„åˆ›é€ åŠ›äº†ï¼Œåªéœ€åœ¨åˆé€‚çš„åœºæ™¯ä¸‹åˆç†åœ°è¿›è¡Œä½¿ç”¨å³å¯ã€‚

æ—¢ç„¶BTraceèƒ½è§£å†³ä¸Šé¢æˆ‘ä»¬æåˆ°çš„æ‰€æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆBTraceçš„æ¶æ„æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ

BTraceä¸»è¦æœ‰ä¸‹é¢å‡ ä¸ªæ¨¡å—ï¼š

1. BTraceè„šæœ¬ï¼šåˆ©ç”¨BTraceå®šä¹‰çš„æ³¨è§£ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ ¹æ®éœ€è¦è¿›è¡Œè„šæœ¬çš„å¼€å‘ã€‚

1. Compilerï¼šå°†BTraceè„šæœ¬ç¼–è¯‘æˆBTrace classæ–‡ä»¶ã€‚

1. Clientï¼šå°†classæ–‡ä»¶å‘é€åˆ°Agentã€‚

1. Agentï¼šåŸºäºJavaçš„Attach APIï¼ŒAgentå¯ä»¥åŠ¨æ€é™„ç€åˆ°ä¸€ä¸ªè¿è¡Œçš„JVMä¸Šï¼Œç„¶åå¼€å¯ä¸€ä¸ªBTrace Serverï¼Œæ¥æ”¶clientå‘è¿‡æ¥çš„BTraceè„šæœ¬ï¼›è§£æè„šæœ¬ï¼Œç„¶åæ ¹æ®è„šæœ¬ä¸­çš„è§„åˆ™æ‰¾åˆ°è¦ä¿®æ”¹çš„ç±»ï¼›ä¿®æ”¹å­—èŠ‚ç åï¼Œè°ƒç”¨Java Instrumentçš„retransformæ¥å£ï¼Œå®Œæˆå¯¹å¯¹è±¡è¡Œä¸ºçš„ä¿®æ”¹å¹¶ä½¿ä¹‹ç”Ÿæ•ˆã€‚

æ•´ä¸ªBTraceçš„æ¶æ„å¤§è‡´å¦‚ä¸‹ï¼š

[!\[å›¾ç‰‡\](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&scene=21#wechat_redirect)

btraceå·¥ä½œæµç¨‹

BTraceæœ€ç»ˆå€ŸInstrumentå®ç°classçš„æ›¿æ¢ã€‚å¦‚ä¸Šæ–‡æ‰€è¯´ï¼Œå‡ºäºå®‰å…¨è€ƒè™‘ï¼ŒInstrumentåœ¨ä½¿ç”¨ä¸Šå­˜åœ¨è¯¸å¤šçš„é™åˆ¶ï¼ŒBTraceä¹Ÿä¸ä¾‹å¤–ã€‚BTraceå¯¹JVMæ¥è¯´æ˜¯â€œåªè¯»çš„â€ï¼Œå› æ­¤BTraceè„šæœ¬çš„é™åˆ¶å¦‚ä¸‹ï¼š

1. ä¸å…è®¸åˆ›å»ºå¯¹è±¡

1. ä¸å…è®¸åˆ›å»ºæ•°ç»„

1. ä¸å…è®¸æŠ›å¼‚å¸¸

1. ä¸å…è®¸catchå¼‚å¸¸

1. ä¸å…è®¸éšæ„è°ƒç”¨å…¶ä»–å¯¹è±¡æˆ–è€…ç±»çš„æ–¹æ³•ï¼Œåªå…è®¸è°ƒç”¨com.sun.btrace.BTraceUtilsä¸­æä¾›çš„é™æ€æ–¹æ³•ï¼ˆä¸€äº›æ•°æ®å¤„ç†å’Œä¿¡æ¯è¾“å‡ºå·¥å…·ï¼‰

1. ä¸å…è®¸æ”¹å˜ç±»çš„å±æ€§

1. ä¸å…è®¸æœ‰æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼Œåªå…è®¸å­˜åœ¨**static public void**Â æ–¹æ³•

1. ä¸å…è®¸æœ‰å†…éƒ¨ç±»ã€åµŒå¥—ç±»

1. ä¸å…è®¸æœ‰åŒæ­¥æ–¹æ³•å’ŒåŒæ­¥å—

1. ä¸å…è®¸æœ‰å¾ªç¯

1. ä¸å…è®¸éšæ„ç»§æ‰¿å…¶ä»–ç±»ï¼ˆå½“ç„¶ï¼Œjava.lang.Objecté™¤å¤–ï¼‰

1. ä¸å…è®¸å®ç°æ¥å£

1. ä¸å…è®¸ä½¿ç”¨assert

1. ä¸å…è®¸ä½¿ç”¨Classå¯¹è±¡

å¦‚æ­¤å¤šçš„é™åˆ¶ï¼Œå…¶å®å¯ä»¥ç†è§£ã€‚BTraceè¦åšçš„æ˜¯ï¼Œè™½ç„¶ä¿®æ”¹äº†å­—èŠ‚ç ï¼Œä½†æ˜¯é™¤äº†è¾“å‡ºéœ€è¦çš„ä¿¡æ¯å¤–ï¼Œå¯¹æ•´ä¸ªç¨‹åºçš„æ­£å¸¸è¿è¡Œå¹¶æ²¡æœ‰å½±å“ã€‚

## [Arthas](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&scene=21#wechat_redirect)

BTraceè„šæœ¬åœ¨ä½¿ç”¨ä¸Šæœ‰ä¸€å®šçš„å­¦ä¹ æˆæœ¬ï¼Œå¦‚æœèƒ½æŠŠä¸€äº›å¸¸ç”¨çš„åŠŸèƒ½å°è£…èµ·æ¥ï¼Œå¯¹å¤–ç›´æ¥æä¾›ç®€å•çš„å‘½ä»¤å³å¯æ“ä½œçš„è¯ï¼Œé‚£å°±å†å¥½ä¸è¿‡äº†ã€‚é˜¿é‡Œçš„å·¥ç¨‹å¸ˆä»¬æ—©å·²æƒ³åˆ°è¿™ä¸€ç‚¹ï¼Œå°±åœ¨å»å¹´ï¼Œé˜¿é‡Œå·´å·´å¼€æºäº†è‡ªå·±çš„Javaè¯Šæ–­å·¥å…·â€”â€”Arthas

Arthasæä¾›ç®€å•çš„å‘½ä»¤è¡Œæ“ä½œï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚ç©¶å…¶èƒŒåçš„æŠ€æœ¯åŸç†ï¼Œå’Œæœ¬æ–‡ä¸­æåˆ°çš„å¤§è‡´æ— äºŒã€‚Arthasçš„æ–‡æ¡£å¾ˆå…¨é¢ï¼Œæƒ³è¯¦ç»†äº†è§£çš„è¯å¯ä»¥æˆ³è¿™é‡Œã€‚

æœ¬æ–‡æ—¨åœ¨è¯´æ˜JavaåŠ¨æ€è¿½è¸ªæŠ€æœ¯çš„æ¥é¾™å»è„‰ï¼ŒæŒæ¡æŠ€æœ¯èƒŒåçš„åŸç†ä¹‹åï¼Œåªè¦æ„¿æ„ï¼Œå„ä½è¯»è€…ä¹Ÿå¯ä»¥å¼€å‘å‡ºè‡ªå·±çš„â€œå†°å°ç‹åº§â€å‡ºæ¥ã€‚

## [ä¸‰ç”Ÿä¸‡ç‰©](https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&scene=21#wechat_redirect)

ç°åœ¨ï¼Œè®©æˆ‘ä»¬è¯•ç€ç«™åœ¨æ›´é«˜çš„åœ°æ–¹â€œä¿¯ç°â€è¿™äº›é—®é¢˜ã€‚

Javaçš„Instrumentç»™è¿è¡Œæ—¶çš„åŠ¨æ€è¿½è¸ªç•™ä¸‹äº†å¸Œæœ›ï¼ŒAttach APIåˆ™ç»™è¿è¡Œæ—¶åŠ¨æ€è¿½è¸ªæä¾›äº†â€œå‡ºå…¥å£â€ï¼ŒASMåˆ™å¤§å¤§æ–¹ä¾¿äº†â€œäººç±»â€æ“ä½œJavaå­—èŠ‚ç çš„æ“ä½œã€‚

åŸºäºInstrumentå’ŒAttach APIå‰è¾ˆä»¬åˆ›é€ å‡ºäº†è¯¸å¦‚JProfilerã€Jvisualvmã€BTraceè¿™æ ·çš„å·¥å…·ã€‚ä»¥ASMä¸ºåŸºç¡€å‘å±•å‡ºäº†cglibã€åŠ¨æ€ä»£ç†ï¼Œç»§è€Œæ˜¯åº”ç”¨å¹¿æ³›çš„Spring AOPã€‚

Javaæ˜¯é™æ€è¯­è¨€ï¼Œè¿è¡Œæ—¶ä¸å…è®¸æ”¹å˜æ•°æ®ç»“æ„ã€‚ç„¶è€Œï¼ŒJava 5å¼•å…¥Instrumentï¼ŒJava 6å¼•å…¥Attach APIä¹‹åï¼Œäº‹æƒ…å¼€å§‹å˜å¾—ä¸ä¸€æ ·äº†ã€‚è™½ç„¶å­˜åœ¨è¯¸å¤šé™åˆ¶ï¼Œç„¶è€Œï¼Œåœ¨å‰è¾ˆä»¬çš„åŠªåŠ›ä¸‹ï¼Œä»…ä»…æ˜¯åˆ©ç”¨é¢„ç•™çš„è¿‘ä¼¼äºâ€œåªè¯»â€çš„è¿™ä¸€ç‚¹ç‚¹ç‹­å°çš„ç©ºé—´ï¼Œä»ç„¶åˆ›é€ å‡ºäº†å„ç§å¤§æ”¾å¼‚å½©çš„æŠ€æœ¯ï¼Œæå¤§åœ°æé«˜äº†è½¯ä»¶å¼€å‘äººå‘˜å®šä½é—®é¢˜çš„æ•ˆç‡ã€‚

è®¡ç®—æœºåº”è¯¥æ˜¯äººç±»æœ‰å²ä»¥æ¥æœ€ä¼Ÿå¤§çš„å‘æ˜ä¹‹ä¸€ï¼Œä»ç”µç£æ„Ÿåº”ç£ç”Ÿç”µï¼Œåˆ°é«˜ä½ç”µå‹æ¨¡æ‹Ÿ0å’Œ1çš„æ¯”ç‰¹ï¼Œå†åˆ°äºŒè¿›åˆ¶è¡¨ç¤ºå‡ºå‡ ç§åŸºæœ¬ç±»å‹ï¼Œå†åˆ°åŸºæœ¬ç±»å‹è¡¨ç¤ºå‡ºæ— ç©·çš„å¯¹è±¡ï¼Œæœ€åæ— ç©·çš„å¯¹è±¡ç»„åˆäº¤äº’æ¨¡æ‹Ÿç°å®ç”Ÿæ´»ä¹ƒè‡³æ•´ä¸ªå®‡å®™ã€‚

ä¸¤åƒäº”ç™¾å¹´å‰ï¼Œã€Šé“å¾·ç»ã€‹æœ‰è¨€ï¼šâ€œé“ç”Ÿä¸€ï¼Œä¸€ç”ŸäºŒï¼ŒäºŒç”Ÿä¸‰ï¼Œä¸‰ç”Ÿä¸‡ç‰©ã€‚â€

ä¸¤åƒäº”ç™¾å¹´åï¼Œè®¡ç®—æœºçš„å‘å±•è¿‡ç¨‹ä¹Ÿå¤§æŠµå¦‚æ­¤å§ã€‚

______________________________________________________________________

______________________________________________________________________

æ¬¢è¿åŠ å…¥æˆ‘çš„çŸ¥è¯†æ˜Ÿçƒï¼Œä¸€èµ·æ¢è®¨æ¶æ„ï¼Œäº¤æµæºç ã€‚åŠ å…¥æ–¹å¼ï¼Œ**é•¿æŒ‰ä¸‹æ–¹äºŒç»´ç å™¢**ï¼š

!\[å›¾ç‰‡\](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

å·²åœ¨çŸ¥è¯†æ˜Ÿçƒæ›´æ–°æºç è§£æå¦‚ä¸‹ï¼š

[!\[å›¾ç‰‡\](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21#wechat_redirect)

[!\[å›¾ç‰‡\](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21#wechat_redirect)

[!\[å›¾ç‰‡\](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21#wechat_redirect)

[!\[å›¾ç‰‡\](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)](http://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&mid=2247487551&idx=1&sn=18f64ba49f3f0f9d8be9d1fdef8857d9&chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&scene=21#wechat_redirect)

æœ€è¿‘æ›´æ–°ã€ŠèŠ‹é“ SpringBoot 2.X å…¥é—¨ã€‹ç³»åˆ—ï¼Œå·²ç» 101 ä½™ç¯‡ï¼Œè¦†ç›–äº†Â MyBatisã€Redisã€MongoDBã€ESã€åˆ†åº“åˆ†è¡¨ã€è¯»å†™åˆ†ç¦»ã€SpringMVCã€Webfluxã€æƒé™ã€WebSocketã€Dubboã€RabbitMQã€RocketMQã€Kafkaã€æ€§èƒ½æµ‹è¯•ç­‰ç­‰å†…å®¹ã€‚

æä¾›è¿‘ 3W è¡Œä»£ç çš„ SpringBoot ç¤ºä¾‹ï¼Œä»¥åŠè¶… 4W è¡Œä»£ç çš„ç”µå•†å¾®æœåŠ¡é¡¹ç›®ã€‚

è·å–æ–¹å¼ï¼šç‚¹â€œ**åœ¨çœ‹**â€ï¼Œå…³æ³¨å…¬ä¼—å·å¹¶å›å¤Â **666**Â é¢†å–ï¼Œæ›´å¤šå†…å®¹é™†ç»­å¥‰ä¸Šã€‚

**æ–‡ç« æœ‰å¸®åŠ©çš„è¯ï¼Œåœ¨çœ‹ï¼Œè½¬å‘å§ã€‚**

**è°¢è°¢æ”¯æŒå“Ÿ (*^\_\_^*ï¼‰**

èŠ‹é“æºç 1000

èŠ‹é“æºç  Â· ç›®å½•

ä¸Šä¸€ç¯‡é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰ï¼šé¢å‘å¯¹è±¡æ€æƒ³ä¸‹ä¸€ç¯‡ä¸­å›½äº’è”ç½‘å¯’å†¬çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ

é˜…è¯»åŸæ–‡

é˜…è¯»Â 6182

â€‹

å†™ç•™è¨€

**ç•™è¨€ 8**

- èŠ‹è‰¿ï¼ˆä¸€ç§é£Ÿæï¼‰

  2022å¹´1æœˆ8æ—¥

  èµ2

  èƒ–å‹ä»¬è€è§„çŸ©ï¼Œä¸ç®¡ç°åœ¨ç”¨ä¸ç”¨åˆ°ã€Œåœ¨çœ‹ã€å…ˆå®‰æ’èµ·æ¥å“Ÿï¼Œè‰¿è‰¿ï¼Œå…ˆæ„Ÿè°¢å¤§å®¶å•¦

  ç½®é¡¶

- F.C

  2022å¹´1æœˆ9æ—¥

  èµ1

  å†™çš„çœŸæ£’

- Viego

  2022å¹´1æœˆ9æ—¥

  èµ

  è¿˜æ²¡ç‚¹è¿›æ¥ï¼Œæˆ‘å°±æƒ³åˆ°äº†å†°å°ç‹åº§![[æ—ºæŸ´]](https://res.wx.qq.com/mpres/zh_CN/htmledition/comm_htmledition/images/pic/common/pic_blank.gif)

  èŠ‹é“æºç 

  ä½œè€…2022å¹´1æœˆ9æ—¥

  èµ1

  ä¸Šæ¬¡å›¢å»ºï¼Œå’ŒåŒäº‹è·‘ç½‘å§é‡Œæ‰“ war3 rpg åœ°å›¾ è´¼å¼€å¿ƒï¼ ğŸˆ¶è¦è¿‡å¹´äº†ï¼Œä¸æ™“å¾—è¿˜èƒ½ä¸èƒ½çº¦åˆ°å‘å°ä»¬ã€‚

- å°æ‡’å‘†

  2022å¹´1æœˆ8æ—¥

  èµ1

  è¿™ä¹Ÿå¤ªéœ‡æ’¼äº†![[å¼º]](https://res.wx.qq.com/mpres/zh_CN/htmledition/comm_htmledition/images/pic/common/pic_blank.gif)

  èŠ‹é“æºç 

  ä½œè€…2022å¹´1æœˆ8æ—¥

  èµ1

  å­—èŠ‚ç ï¼Œå¾ˆå¥½ç©çš„

- ææ—é£

  2022å¹´1æœˆ8æ—¥

  èµ1

  æ–‡ç« éå¸¸å¥½ï¼Œç‚¹ä¸ªèµğŸ‘ğŸ»

- é›¶é›¶ä¼Ÿ

  2022å¹´1æœˆ17æ—¥

  èµ

  è®²äº†å¾ˆå¤šç†è®ºï¼Œå¦‚æœèƒ½ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜Btraceæ˜¯æ€ä¹ˆç”¨çš„ï¼Œå¯èƒ½æ•ˆæœå°±æ›´å¥½ã€‚

å·²æ— æ›´å¤šæ•°æ®

[](javacript:;)

![](http://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZfcTJicC5sSiaD2Y4XgGFI1cFr8JBcIWEoS8ygoNIUlSaD8DS6CsgiaB0RpejXp5Biavia2vicHdIIqaLbTg/300?wx_fmt=png&wxfrom=18)

èŠ‹é“æºç 

38åˆ†äº«34

8

å†™ç•™è¨€

**ç•™è¨€ 8**

- èŠ‹è‰¿ï¼ˆä¸€ç§é£Ÿæï¼‰

  2022å¹´1æœˆ8æ—¥

  èµ2

  èƒ–å‹ä»¬è€è§„çŸ©ï¼Œä¸ç®¡ç°åœ¨ç”¨ä¸ç”¨åˆ°ã€Œåœ¨çœ‹ã€å…ˆå®‰æ’èµ·æ¥å“Ÿï¼Œè‰¿è‰¿ï¼Œå…ˆæ„Ÿè°¢å¤§å®¶å•¦

  ç½®é¡¶

- F.C

  2022å¹´1æœˆ9æ—¥

  èµ1

  å†™çš„çœŸæ£’

- Viego

  2022å¹´1æœˆ9æ—¥

  èµ

  è¿˜æ²¡ç‚¹è¿›æ¥ï¼Œæˆ‘å°±æƒ³åˆ°äº†å†°å°ç‹åº§![[æ—ºæŸ´]](https://res.wx.qq.com/mpres/zh_CN/htmledition/comm_htmledition/images/pic/common/pic_blank.gif)

  èŠ‹é“æºç 

  ä½œè€…2022å¹´1æœˆ9æ—¥

  èµ1

  ä¸Šæ¬¡å›¢å»ºï¼Œå’ŒåŒäº‹è·‘ç½‘å§é‡Œæ‰“ war3 rpg åœ°å›¾ è´¼å¼€å¿ƒï¼ ğŸˆ¶è¦è¿‡å¹´äº†ï¼Œä¸æ™“å¾—è¿˜èƒ½ä¸èƒ½çº¦åˆ°å‘å°ä»¬ã€‚

- å°æ‡’å‘†

  2022å¹´1æœˆ8æ—¥

  èµ1

  è¿™ä¹Ÿå¤ªéœ‡æ’¼äº†![[å¼º]](https://res.wx.qq.com/mpres/zh_CN/htmledition/comm_htmledition/images/pic/common/pic_blank.gif)

  èŠ‹é“æºç 

  ä½œè€…2022å¹´1æœˆ8æ—¥

  èµ1

  å­—èŠ‚ç ï¼Œå¾ˆå¥½ç©çš„

- ææ—é£

  2022å¹´1æœˆ8æ—¥

  èµ1

  æ–‡ç« éå¸¸å¥½ï¼Œç‚¹ä¸ªèµğŸ‘ğŸ»

- é›¶é›¶ä¼Ÿ

  2022å¹´1æœˆ17æ—¥

  èµ

  è®²äº†å¾ˆå¤šç†è®ºï¼Œå¦‚æœèƒ½ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜Btraceæ˜¯æ€ä¹ˆç”¨çš„ï¼Œå¯èƒ½æ•ˆæœå°±æ›´å¥½ã€‚

å·²æ— æ›´å¤šæ•°æ®
